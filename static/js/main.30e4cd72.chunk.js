(this.webpackJsonptabletop=this.webpackJsonptabletop||[]).push([[0],{13:function(e,o,t){e.exports={field:"Field_field__1PltA",gridWrapper:"Field_gridWrapper__oluTN"}},2:function(e,o,t){e.exports={container:"Token_container__C3-vl",circle:"Token_circle__36Ifi",direction:"Token_direction__2emyN",selected:"Token_selected__1GyAX",current:"Token_current__P_JN5",north:"Token_north__2V4ME",south:"Token_south__2HjCE",west:"Token_west__2iXXe",east:"Token_east__Eu9f2"}},20:function(e,o,t){},26:function(e,o,t){"use strict";t.r(o);var r=t(0),n=t.n(r),i=t(6),c=t.n(i),l=(t(20),t(3)),s=t(5),d=t.n(s),a=t(1);function u(e){var o=e.columns,t=e.rows,r=e.cellSize,n=e.children,i=function(e,o,t){return{width:e*t+"px",height:o*t+"px"}}(o,t,r),c=function(e,o,t){for(var r=function(e){var o=e+"px";return{width:o,height:o,lineHeight:o}}(t),n=[],i=0;i<o;i++)for(var c=0;c<e;c++){var l=d.a.cell+(0===i?" "+d.a.firstRow:"")+(c===e-1?" "+d.a.lastColumn:"");n.push(Object(a.jsx)("div",{className:l,style:r},c+";"+i))}return n}(o,t,r);return Object(a.jsxs)("div",{className:d.a.grid,style:i,children:[c,n]})}var b=t(7),h=t(15),f=t(4),p=t(2),m=t.n(p),j=t(14),x=t.n(j),y=t(12),k=t.n(y),_=Object.freeze({north:Symbol("north"),south:Symbol("south"),west:Symbol("west"),east:Symbol("east")});function v(e){var o=e.id,t=e.size,n=e.color,i=e.symbol,c=e.direction,l=e.onTokenClick,s=e.onDirectionClick,d=e.selected,u=function(e){return{backgroundColor:e,borderColor:x()(e).darken(2).saturate(2).hex()}}(n),b=function(e){return{width:e+"px",height:e+"px"}}(t),h=function(e){return{backgroundColor:e.backgroundColor,borderColor:e.borderColor}}(u),p=function(e,o){var t=C(e);return{top:0,left:T(e),borderLeftWidth:t,borderRightWidth:t,borderBottomWidth:t,borderBottomColor:o.borderColor}}(t,u),j=function(e,o){var t=C(e);return{bottom:0,left:T(e),borderLeftWidth:t,borderRightWidth:t,borderTopWidth:t,borderTopColor:o.borderColor}}(t,u),y=function(e,o){var t=C(e);return{top:T(e),left:0,borderTopWidth:t,borderBottomWidth:t,borderRightWidth:t,borderRightColor:o.borderColor}}(t,u),v=function(e,o){var t=C(e);return{top:T(e),right:0,borderTopWidth:t,borderBottomWidth:t,borderLeftWidth:t,borderLeftColor:o.borderColor}}(t,u),g=Object(r.useCallback)((function(e){l&&(e.stopPropagation(),l(o))}),[o,l]),W=w(_.north,o,s),D=w(_.south,o,s),E=w(_.west,o,s),N=w(_.east,o,s);return Object(a.jsxs)("div",{className:k()(m.a.container,Object(f.a)({},m.a.selected,d)),style:b,children:[Object(a.jsx)("div",{onClick:g,className:m.a.circle,style:h,children:Object(a.jsx)("span",{children:i})}),O(_.north,W,p,m.a.north,m.a,c),O(_.south,D,j,m.a.south,m.a,c),O(_.west,E,y,m.a.west,m.a,c),O(_.east,N,v,m.a.east,m.a,c)]})}function O(e,o,t,r,n,i){var c=e===i;return Object(a.jsx)("div",{onClick:o,className:k()(r,n.direction,Object(f.a)({},n.current,c)),style:t})}function C(e){return e/10*3+"px"}function T(e){return e/5+"px"}function w(e,o,t){return Object(r.useCallback)((function(r){t&&(r.stopPropagation(),t(o,e))}),[e,o,t])}var g=t(8),W="field",D=Object(g.b)({name:W,initialState:{columns:0,rows:0,zoom:1,cells:[],nextTokenId:0,tokens:{},selectedTokenId:null},reducers:{setDimensions:function(e,o){var t=o.payload,r=t.columns,n=t.rows;e.columns=r,e.rows=n;for(var i=0;i<r;i++){e.cells[i]=[];for(var c=0;c<n;c++)e.cells[i][c]=null}},createToken:function(e,o){var t=Object(b.a)({id:e.nextTokenId++},o.payload);e.tokens[t.id]=t,e.cells[t.x][t.y]=t.id},moveToken:function(e,o){var t=o.payload,r=t.id,n=t.x,i=t.y,c=e.tokens[r];e.cells[c.x][c.y]=null,e.cells[n][i]=c.id,c.x=n,c.y=i},selectToken:function(e,o){var t=o.payload.id;e.selectedTokenId=t},unselectToken:function(e){e.selectedTokenId=null},toggleDirection:function(e,o){var t=o.payload,r=t.id,n=t.direction,i=e.tokens[r];i.direction!==n?i.direction=n:i.direction=null}}}),E=function(e){return e.field.columns},N=function(e){return e.field.rows},S=function(e){return e.field.zoom},z=function(e){return Object.values(e.field.tokens)},I=D.actions,R=I.setDimensions,B=I.createToken,G=I.moveToken,F=I.selectToken,L=I.unselectToken,M=I.toggleDirection;function P(e){var o=e.id,t=Object(l.b)(),n=Object(r.useCallback)((function(e){return function(e,o){return e.field.selectedTokenId===o}(e,o)}),[o]),i=Object(l.c)(n),c=(e.x,e.y,Object(h.a)(e,["x","y"])),s=Object(r.useCallback)((function(e){i||t(F({id:e}))}),[t,i]),d=Object(r.useCallback)((function(e,o){t(i?M({id:e,direction:o}):F({id:e}))}),[t,i]),u=function(e){var o=e.x,t=e.y,r=e.size;return{position:"absolute",left:o*r+"px",top:t*r+"px",width:r+"px",height:r+"px"}}(e);return Object(a.jsx)("div",{style:u,children:Object(a.jsx)(v,Object(b.a)({onTokenClick:s,onDirectionClick:d,selected:i},c))})}var J=t(13),X=t.n(J);function A(){var e=Object(l.c)(E),o=Object(l.c)(N),t=Object(l.c)(S),r=Object(l.c)(z),n=function(e){return 100*e}(t),i=function(e,o){return e.map((function(e){return Object(a.jsx)(P,{id:e.id,size:o,color:e.color,symbol:e.symbol,direction:e.direction,x:e.x,y:e.y},e.id)}))}(r,n),c=Object(l.b)();return Object(a.jsx)("div",{className:X.a.field,children:Object(a.jsx)("div",{className:X.a.gridWrapper,onClick:function(){return c(L())},children:Object(a.jsx)(u,{columns:e,rows:o,cellSize:n,children:i})})})}var H=function(){return Object(a.jsx)(A,{})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=Object(g.a)({reducer:Object(f.a)({},D.name,D.reducer)});c.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(l.a,{store:K,children:Object(a.jsx)(H,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})),K.dispatch(R({columns:5,rows:5})),K.dispatch(B({color:"#D5E8D4",symbol:"T",direction:_.west,x:4,y:4})),K.dispatch(B({color:"#D5E8D4",symbol:"E",direction:_.south,x:1,y:0})),K.dispatch(B({color:"#F8CECC",symbol:"M",direction:_.south,x:1,y:1})),K.dispatch(B({color:"#F8CECC",symbol:"M",direction:_.south,x:2,y:2})),K.dispatch(B({color:"#D5E8D4",symbol:"Y",direction:_.west,x:3,y:2})),K.dispatch(B({color:"#D5E8D4",symbol:"K",direction:_.north,x:1,y:3})),K.dispatch(B({color:"#647687",symbol:"",direction:null,x:4,y:0})),K.dispatch(B({color:"#647687",symbol:"",direction:null,x:3,y:1})),K.dispatch(B({color:"#647687",symbol:"",direction:null,x:0,y:2})),K.dispatch(B({color:"#647687",symbol:"",direction:null,x:1,y:4})),K.dispatch(G({id:"0",x:3,y:4}))},5:function(e,o,t){e.exports={grid:"Grid_grid__5dSy0",cell:"Grid_cell__2lFos",firstRow:"Grid_firstRow__3GmUT",lastColumn:"Grid_lastColumn__1e561"}}},[[26,1,2]]]);
//# sourceMappingURL=main.30e4cd72.chunk.js.map