{"version":3,"sources":["token/Token.module.css","field/GridItem.module.css","app/App.module.css","token/DraggableToken.module.css","field/Field.module.css","panel/PanelCategory.module.css","dnd/CustomDragLayer.module.css","field/Grid.module.css","panel/PanelContainer.module.css","panel/Panel.module.css","shared/text.js","token/Token.jsx","token/DraggableToken.jsx","dnd/use-disable-preview.js","token/DraggableTokenPreview.jsx","dnd/CustomDragLayer.jsx","dnd/DndProvider.jsx","field/state.js","field/GridItem.jsx","field/Grid.jsx","field/GridToken.jsx","field/Field.jsx","forms/use-input.js","forms/TextField.jsx","forms/SelectField.jsx","panel/Panel.jsx","panel/PanelCategory.jsx","panel/FieldPanel.jsx","panel/TokenSymbolField.jsx","panel/TokenColorSelection.jsx","panel/TokenDirectionSelection.jsx","panel/TokenPanel.jsx","panel/PanelContainer.jsx","panel/state.js","app/App.js","serviceWorker.js","store.js","index.js","forms/Forms.module.css"],"names":["module","exports","BLACK_TEXT","WHITE_TEXT","getTextColor","color","chroma","contrast","Direction","Object","freeze","north","south","west","east","Token","id","size","symbol","direction","onTokenClick","onDirectionClick","selected","circleRef","containerClassName","circleClassName","onCircleClick","useCallback","event","stopPropagation","useCircleClick","onNorthClick","useDirectionClick","onSouthClick","onWestClick","onEastClick","colors","saturate","get","backgroundColor","borderColor","darken","hex","textColor","generateColors","containerStyle","width","height","generateContainerStyle","circleStyle","generateCircleStyle","northStyle","borderWidth","generateBorderWidth","top","left","generatePosition","borderLeftWidth","borderRightWidth","borderBottomWidth","borderBottomColor","generateNorthStyle","southStyle","bottom","borderTopWidth","borderTopColor","generateSouthStyle","westStyle","borderRightColor","generateWestStyle","eastStyle","right","borderLeftColor","generateEastStyle","containerClasses","classNames","styles","container","circleClasses","circle","className","style","ref","onClick","directionNode","currentDirection","current","TOKEN_DND_TYPE","DraggableToken","props","useDrag","type","item","collect","monitor","isDragging","drag","preview","useEffect","empty","captureDraggingState","useDisablePreview","dragging","DraggableTokenPreview","offset","tokenProps","diff","x","y","transform","generateStyle","CustomDragLayer","useDragLayer","getItem","itemType","getItemType","currentOffset","getSourceClientOffset","renderPreview","layer","DndProvider","children","backend","HTML5Backend","Image","src","NAME","normalizeDimension","value","Math","max","min","state","createSlice","name","initialState","columns","rows","zoom","cells","nextTokenId","tokenIds","tokens","selectedTokenId","reducers","setDimensions","action","payload","columnsDiff","increase","columnsStart","columnsEnd","growColumns","decrease","tokenId","filter","splice","shrinkColumns","abs","rowsDiff","rowsStart","rowsEnd","growRows","shrinkRows","createToken","token","push","moveToken","selectToken","unselectToken","setTokenDirection","toggleTokenDirection","setTokenSymbol","setTokenColor","getColumns","getRows","getZoom","getTokenIds","getTokenById","getSelectedTokenId","actions","GridItem","dispatch","useDispatch","useSelector","isCellEmpty","useDrop","accept","canDrop","drop","handleMovenToken","isOver","useDroppable","cell","firstRow","lastColumn","droppable","cellSize","lineHeight","Grid","generateGridStyle","generateCells","grid","GridToken","isTokenSelected","position","Field","generateCellSize","gridTokens","map","generateGridTokens","field","gridWrapper","useInput","initialValue","listener","useState","setValue","bind","onChange","target","TextField","label","onFocus","changeHandler","length","element","input","maxLength","SelectField","currentValue","options","useMemo","transformOption","selectStyle","option","find","getSelectStyle","select","generateOption","undefined","Panel","title","PanelCategory","FieldPanel","Dimensions","columnsChanged","rowsChanged","DimensionSelect","range","MAX_DIMENSIONS","TokenSymbolField","createColor","normalizeColor","toLowerCase","TokenColorSelection","directions","TokenDirectionSelection","TokenPanel","PanelContainer","App","tokenPanel","Boolean","window","location","hostname","match","store","configureStore","reducer","panel","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.8a55a427.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Token_container__C3-vl\",\"circle\":\"Token_circle__36Ifi\",\"direction\":\"Token_direction__2emyN\",\"selected\":\"Token_selected__1GyAX\",\"current\":\"Token_current__P_JN5\",\"north\":\"Token_north__2V4ME\",\"south\":\"Token_south__2HjCE\",\"west\":\"Token_west__2iXXe\",\"east\":\"Token_east__Eu9f2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cell\":\"GridItem_cell__hsSTq\",\"firstRow\":\"GridItem_firstRow__8BhAg\",\"lastColumn\":\"GridItem_lastColumn__320FC\",\"droppable\":\"GridItem_droppable__yTq2v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__7_OSo\",\"field\":\"App_field__1Za-d\",\"tokenPanel\":\"App_tokenPanel__1Y1io\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"circle\":\"DraggableToken_circle__2e89C\",\"dragging\":\"DraggableToken_dragging__3643i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"field\":\"Field_field__1PltA\",\"gridWrapper\":\"Field_gridWrapper__oluTN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"PanelCategory_container__2ywKt\",\"title\":\"PanelCategory_title__2RLOE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layer\":\"CustomDragLayer_layer__3Oi1J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"grid\":\"Grid_grid__5dSy0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"PanelContainer_container__12MNC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Panel_title__2jCxg\"};","import chroma from 'chroma-js'\n\nconst BLACK_TEXT = '#000000'\nconst WHITE_TEXT = '#FFFFFF'\n\nexport function getTextColor(color) {\n    const blackText = chroma.contrast(BLACK_TEXT, color) >= chroma.contrast(WHITE_TEXT, color)\n    return blackText ? BLACK_TEXT : WHITE_TEXT\n}\n","import { useCallback } from 'react'\nimport chroma from 'chroma-js'\nimport classNames from 'classnames'\nimport styles from './Token.module.css'\nimport { getTextColor } from '../shared'\n\nexport const Direction = Object.freeze({\n    north: 'north',\n    south: 'south',\n    west: 'west',\n    east: 'east'\n})\n\nexport function Token({\n    id,\n    size,\n    color,\n    symbol,\n    direction,\n    onTokenClick,\n    onDirectionClick,\n    selected,\n    circleRef,\n    containerClassName,\n    circleClassName\n}) {\n    // Logic\n\n    const onCircleClick = useCircleClick(id, onTokenClick)\n    const onNorthClick = useDirectionClick(Direction.north, id, onDirectionClick)\n    const onSouthClick = useDirectionClick(Direction.south, id, onDirectionClick)\n    const onWestClick = useDirectionClick(Direction.west, id, onDirectionClick)\n    const onEastClick = useDirectionClick(Direction.east, id, onDirectionClick)\n\n    // Styling\n\n    const colors = generateColors(color)\n\n    const containerStyle = generateContainerStyle(size)\n    const circleStyle = generateCircleStyle(colors)\n    const northStyle = generateNorthStyle(size, colors)\n    const southStyle = generateSouthStyle(size, colors)\n    const westStyle = generateWestStyle(size, colors)\n    const eastStyle = generateEastStyle(size, colors)\n\n    const containerClasses = classNames(\n        styles.container,\n        { [styles.selected]: selected },\n        containerClassName\n    )\n\n    const circleClasses = classNames(\n        styles.circle,\n        circleClassName\n    )\n\n    // JSX\n\n    return (\n        <div\n            className={containerClasses}\n            style={containerStyle}\n        >\n            <div\n                ref={circleRef}\n                onClick={onCircleClick}\n                className={circleClasses}\n                style={circleStyle}\n            >\n                <span>{symbol}</span>\n            </div>\n            {directionNode(Direction.north, onNorthClick, northStyle, styles.north, styles, direction)}\n            {directionNode(Direction.south, onSouthClick, southStyle, styles.south, styles, direction)}\n            {directionNode(Direction.west, onWestClick, westStyle, styles.west, styles, direction)}\n            {directionNode(Direction.east, onEastClick, eastStyle, styles.east, styles, direction)}\n        </div>\n    )\n}\n\nfunction directionNode(direction, onClick, style, className, styles, currentDirection) {\n    const current = direction === currentDirection\n    return (\n        <div\n            onClick={onClick}\n            className={classNames(className, styles.direction, { [styles.current]: current })}\n            style={style}\n        />\n    )\n}\n\n// Logic\n\nfunction useCircleClick(id, onTokenClick) {\n    return useCallback((event) => {\n        if (onTokenClick) {\n            event.stopPropagation()\n            onTokenClick(id)\n        }\n    }, [id, onTokenClick])\n}\n\nfunction useDirectionClick(direction, id, onDirectionClick) {\n    return useCallback((event) => {\n        if (onDirectionClick) {\n            event.stopPropagation()\n            onDirectionClick(id, direction)\n        }\n    }, [direction, id, onDirectionClick])\n}\n\n// Styling\n\nfunction generateColors(color) {\n    const chromaticity = chroma(color).get('lch.c')\n    const saturate = chromaticity > 10 ? 2 : 0\n\n    return {\n        backgroundColor: color,\n        borderColor: chroma(color).darken(2).saturate(saturate).hex(),\n        textColor: getTextColor(color)\n    }\n}\n\nfunction generateContainerStyle(size) {\n    return {\n        width: size + 'px',\n        height: size + 'px'\n    }\n}\n\nfunction generateCircleStyle(colors) {\n    return {\n        backgroundColor: colors.backgroundColor,\n        borderColor: colors.borderColor,\n        color: colors.textColor\n    }\n}\n\nfunction generateNorthStyle(size, colors) {\n    const borderWidth = generateBorderWidth(size)\n    return {\n        top: 0,\n        left: generatePosition(size),\n        borderLeftWidth: borderWidth,\n        borderRightWidth: borderWidth,\n        borderBottomWidth: borderWidth,\n        borderBottomColor: colors.borderColor\n    }\n}\n\nfunction generateSouthStyle(size, colors) {\n    const borderWidth = generateBorderWidth(size)\n    return {\n        bottom: 0,\n        left: generatePosition(size),\n        borderLeftWidth: borderWidth,\n        borderRightWidth: borderWidth,\n        borderTopWidth: borderWidth,\n        borderTopColor: colors.borderColor\n    }\n}\n\nfunction generateWestStyle(size, colors) {\n    const borderWidth = generateBorderWidth(size)\n    return {\n        top: generatePosition(size),\n        left: 0,\n        borderTopWidth: borderWidth,\n        borderBottomWidth: borderWidth,\n        borderRightWidth: borderWidth,\n        borderRightColor: colors.borderColor\n    }\n}\n\nfunction generateEastStyle(size, colors) {\n    const borderWidth = generateBorderWidth(size)\n    return {\n        top: generatePosition(size),\n        right: 0,\n        borderTopWidth: borderWidth,\n        borderBottomWidth: borderWidth,\n        borderLeftWidth: borderWidth,\n        borderLeftColor: colors.borderColor\n    }\n}\n\nfunction generateBorderWidth(size) {\n    return ((size / 10) * 3) + 'px'\n}\n\nfunction generatePosition(size) {\n    return (size / 5) + 'px'\n}\n","import { useDrag } from 'react-dnd'\nimport classNames from 'classnames'\nimport { useDisablePreview } from '../dnd'\nimport { Token } from './Token'\nimport styles from './DraggableToken.module.css'\n\nexport const TOKEN_DND_TYPE = 'Token'\n\nexport function DraggableToken(props) {\n    const {\n        id,\n        size,\n        color,\n        symbol,\n        direction\n    } = props\n\n    const [{ isDragging }, drag, preview] = useDrag(() => ({\n        type: TOKEN_DND_TYPE,\n        // TODO Nur Token-ID übertragen (global Token-State):\n        item: {\n            id,\n            size,\n            color,\n            symbol,\n            direction\n        },\n        collect: (monitor) => ({\n            isDragging: !!monitor.isDragging()\n        })\n    }), [id, size, color, symbol, direction])\n\n    useDisablePreview(preview)\n\n    const containerClassName = classNames({\n        [styles.dragging]: isDragging\n    })\n\n    return (\n        <Token\n            {...props}\n            circleRef={drag}\n            containerClassName={containerClassName}\n            circleClassName={styles.circle}\n        />\n    )\n}\n","import { useEffect } from 'react'\n\nconst empty = new Image()\nempty.src = 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=='\n\nexport function useDisablePreview(preview) {\n    useEffect(() => {\n        preview(empty, { captureDraggingState: true })\n    }, [preview])\n}\n","import { Token } from './Token'\n\nexport function DraggableTokenPreview(props) {\n    const { offset, ...tokenProps } = props\n    const style = generateStyle(props)\n\n    return (\n        <div style={style}>\n            <Token {...tokenProps} />\n        </div>\n    )\n}\n\nfunction generateStyle({ offset, size }) {\n    const diff = (size / 20) * 3\n    const x = offset.x - diff\n    const y = offset.y - diff\n    return { transform: `translate(${x}px, ${y}px)` }\n}\n","import { useDragLayer } from 'react-dnd'\nimport { TOKEN_DND_TYPE, DraggableTokenPreview } from '../token'\nimport styles from './CustomDragLayer.module.css'\n\nexport function CustomDragLayer() {\n    const {\n        item,\n        itemType,\n        currentOffset,\n        isDragging\n    } = useDragLayer(monitor => ({\n        item: monitor.getItem(),\n        itemType: monitor.getItemType(),\n        currentOffset: monitor.getSourceClientOffset(),\n        isDragging: monitor.isDragging()\n    }))\n\n    if (!isDragging || !currentOffset) {\n        return null\n    }\n    const preview = renderPreview(item, itemType, currentOffset)\n\n    if (!preview) {\n        return null\n    }\n\n    return (\n        <div className={styles.layer}>\n            {preview}\n        </div>\n    )\n}\n\nfunction renderPreview(item, type, offset) {\n    switch (type) {\n        case TOKEN_DND_TYPE:\n            return <DraggableTokenPreview offset={offset} {...item} />\n        default:\n            return null\n    }\n}\n","import { DndProvider as Provider } from 'react-dnd'\nimport { HTML5Backend } from 'react-dnd-html5-backend'\nimport { CustomDragLayer } from './CustomDragLayer'\n\n// TODO Aktuell kein TouchBackend mit \"enableMouseEvents: true\" weil:\n// Unterschied durch Touch-Backend zwischen Mouse und Touch:\n// Bei Mouse wird nach Drag die Selektierung von Tokens aufgehoben (durch Click-Event auf Grid).\nexport function DndProvider({ children }) {\n    return (\n        <Provider backend={HTML5Backend}>\n            <CustomDragLayer />\n            {children}\n        </Provider>\n    )\n}\n","import { createSlice } from '@reduxjs/toolkit'\n\nconst NAME = 'field'\n\nexport const MIN_DIMENSIONS = 1\nexport const MAX_DIMENSIONS = 100\n\nfunction normalizeDimension(value) {\n    return Math.max(MIN_DIMENSIONS, Math.min(MAX_DIMENSIONS, value))\n}\n\nexport const state = createSlice({\n    name: NAME,\n    initialState: {\n        columns: 1,\n        rows: 1,\n        zoom: 1,\n        cells: [ [ null ] ],\n        nextTokenId: 0,\n        tokenIds: [],\n        tokens: {},\n        selectedTokenId: null\n    },\n    reducers: {\n\n        // Payload: columns, rows\n        setDimensions(state, action) {\n            const columns = normalizeDimension(action.payload.columns)\n            const rows = normalizeDimension(action.payload.rows)\n\n            // Columns\n\n            const columnsDiff = columns - state.columns\n\n            if (columnsDiff > 0) {\n                growColumns(state, columnsDiff)\n            } else if (columnsDiff < 0) {\n                shrinkColumns(state, Math.abs(columnsDiff))\n            }\n\n            state.columns = columns\n\n            // Rows\n\n            const rowsDiff = rows - state.rows\n\n            if (rowsDiff > 0) {\n                growRows(state, rowsDiff)\n            } else if (rowsDiff < 0) {\n                shrinkRows(state, Math.abs(rowsDiff))\n            }\n\n            state.rows = rows\n        },\n\n        // Payload: color, symbol, direction, x, y\n        createToken(state, action) {\n            const token = {\n                id: (state.nextTokenId++) + '',\n                ...action.payload\n            }\n\n            state.tokenIds.push(token.id)\n            state.tokens[token.id] = token\n            state.cells[token.x][token.y] = token.id\n        },\n\n        // Payload: id, x, y\n        moveToken(state, action) {\n            const { id, x, y } = action.payload\n\n            const token = state.tokens[id]\n\n            state.cells[token.x][token.y] = null\n            state.cells[x][y] = token.id\n\n            token.x = x\n            token.y = y\n        },\n\n        // Payload: id\n        selectToken(state, action) {\n            const { id } = action.payload\n            state.selectedTokenId = id\n        },\n\n        unselectToken(state) {\n            state.selectedTokenId = null\n        },\n\n        // Payload: id, direction\n        setTokenDirection(state, action) {\n            const { id, direction } = action.payload\n            const token = state.tokens[id]\n            token.direction = direction\n        },\n\n        // Payload: id, direction\n        toggleTokenDirection(state, action) {\n            const { id, direction } = action.payload\n\n            const token = state.tokens[id]\n\n            if (token.direction !== direction) {\n                token.direction = direction\n            } else {\n                token.direction = null\n            }\n        },\n\n        // Payload: id, symbol\n        setTokenSymbol(state, action) {\n            const { id, symbol } = action.payload\n            const token = state.tokens[id]\n            token.symbol = symbol\n        },\n\n        // Payload: id, color\n        setTokenColor(state, action) {\n            const { id, color } = action.payload\n            const token = state.tokens[id]\n            token.color = color\n        }\n    }\n})\n\nfunction growColumns(state, increase) {\n    const columnsStart = state.columns\n    const columnsEnd = state.columns + increase\n\n    for (let x = columnsStart; x < columnsEnd; x++) {\n        state.cells[x] = []\n\n        for (let y = 0; y < state.rows; y++) {\n            state.cells[x][y] = null\n        }\n    }\n}\n\nfunction growRows(state, increase) {\n    const rowsStart = state.rows\n    const rowsEnd = state.rows + increase\n\n    for (let x = 0; x < state.columns; x++) {\n        for (let y = rowsStart; y < rowsEnd; y++) {\n            state.cells[x][y] = null\n        }\n    }\n}\n\nfunction shrinkColumns(state, decrease) {\n    const columnsStart = state.columns - decrease\n    const columnsEnd = state.columns\n\n    for (let x = columnsStart; x < columnsEnd; x++) {\n        for (let y = 0; y < state.rows; y++) {\n            const tokenId = state.cells[x][y]\n\n            if (tokenId) {\n                state.tokenIds = state.tokenIds.filter(id => id !== tokenId)\n                delete state.tokens[tokenId]\n            }\n        }\n    }\n\n    state.cells.splice(columnsStart, decrease)\n}\n\nfunction shrinkRows(state, decrease) {\n    const rowsStart = state.rows - decrease\n    const rowsEnd = state.rows\n\n    for (let x = 0; x < state.columns; x++) {\n        for (let y = rowsStart; y < rowsEnd; y++) {\n            const tokenId = state.cells[x][y]\n\n            if (tokenId) {\n                state.tokenIds = state.tokenIds.filter(id => id !== tokenId)\n                delete state.tokens[tokenId]\n            }\n        }\n\n        state.cells[x].splice(rowsStart, decrease)\n    }\n}\n\nexport const getColumns = (state) => state[NAME].columns\nexport const getRows = (state) => state[NAME].rows\nexport const getZoom = (state) => state[NAME].zoom\nexport const getTokenIds = (state) => state[NAME].tokenIds\nexport const getTokenById = (state, id) => state[NAME].tokens[id]\nexport const isCellEmpty = (state, x, y) => state[NAME].cells[x][y] === null\n\nexport const isTokenSelected = (state, tokenId) => state[NAME].selectedTokenId === tokenId\nexport const getSelectedTokenId = (state) => state[NAME].selectedTokenId\nexport const getSelectedToken = (state) => {\n    const id = state[NAME].selectedTokenId\n    return id !== null ? state[NAME].tokens[id] : null\n}\n\nexport const {\n    setDimensions,\n    createToken,\n    moveToken,\n    selectToken,\n    unselectToken,\n    setTokenDirection,\n    toggleTokenDirection,\n    setTokenSymbol,\n    setTokenColor\n} = state.actions\n","import { useDrop } from 'react-dnd'\nimport classNames from 'classnames'\nimport styles from './GridItem.module.css'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { TOKEN_DND_TYPE } from '../token'\nimport { isCellEmpty, moveToken } from './state'\n\nexport function GridItem({\n    x,\n    y,\n    columns,\n    size\n}) {\n    const [{ isOver, canDrop }, drop] = useDroppable(x, y)\n\n    const className = classNames(\n        styles.cell,\n        {\n            [styles.firstRow]: y === 0,\n            [styles.lastColumn]: x === columns - 1,\n            [styles.droppable]: isOver && canDrop\n        }\n    )\n\n    const style = generateStyle(size)\n\n    return (\n        <div\n            ref={drop}\n            className={className}\n            style={style}\n        />\n    )\n}\n\nfunction useDroppable(x, y) {\n    const dispatch = useDispatch()\n\n    const empty = useSelector((state) => isCellEmpty(state, x, y))\n\n    return useDrop(() => ({\n        accept: TOKEN_DND_TYPE,\n        canDrop: () => empty,\n        drop: (item) => handleMovenToken(item, x, y, dispatch),\n        collect: (monitor) => ({\n            isOver: !!monitor.isOver(),\n            canDrop: !!monitor.canDrop()\n        })\n    }), [x, y, empty, dispatch])\n}\n\nfunction handleMovenToken(item, x, y, dispatch) {\n    const { id } = item\n\n    dispatch(moveToken({\n        id,\n        x,\n        y\n    }))\n}\n\nfunction generateStyle(cellSize) {\n    const size = cellSize + 'px'\n    return {\n        width: size,\n        height: size,\n        lineHeight: size\n    }\n}\n","import styles from './Grid.module.css'\nimport { GridItem } from './GridItem'\n\nexport function Grid({ columns, rows, cellSize, children }) {\n    const style = generateGridStyle(columns, rows, cellSize)\n    const cells = generateCells(columns, rows, cellSize)\n\n    return (\n        <div className={styles.grid} style={style}>\n            {cells}\n            {children}\n        </div>\n    )\n}\n\nfunction generateGridStyle(columns, rows, cellSize) {\n    return {\n        width: (columns * cellSize) + 'px',\n        height: (rows * cellSize) + 'px'\n    }\n}\n\nfunction generateCells(columns, rows, cellSize) {\n    const cells = []\n\n    for (let y = 0; y < rows; y++) {\n\n        for (let x = 0; x < columns; x++) {\n\n            cells.push(\n                <GridItem\n                    key={x + ';' + y}\n                    x={x}\n                    y={y}\n                    columns={columns}\n                    size={cellSize}\n                />\n            )\n\n        }\n\n    }\n\n    return cells\n}\n","import { useCallback } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { DraggableToken } from '../token'\nimport { getTokenById, selectToken, unselectToken, isTokenSelected, toggleTokenDirection } from './state'\n\nexport function GridToken(props) {\n    const { id, size } = props\n\n    const { color, symbol, direction, x, y } = useSelector((state) => getTokenById(state, id))\n    const selected = useSelector((state) => isTokenSelected(state, id))\n\n    const dispatch = useDispatch()\n\n    const onTokenClick = useCallback((id) => {\n        if (!selected) {\n            dispatch(selectToken({ id }))\n        } else {\n            dispatch(unselectToken())\n        }\n    }, [dispatch, selected])\n\n    const onDirectionClick = useCallback((id, direction) => {\n        if (selected) {\n            dispatch(toggleTokenDirection({ id, direction }))\n        } else {\n            dispatch(selectToken({ id }))\n        }\n    }, [dispatch, selected])\n\n    const containerStyle = generateContainerStyle(x, y, size)\n\n    return (\n        <div style={containerStyle}>\n            <DraggableToken\n                id={id}\n                size={size}\n                color={color}\n                symbol={symbol}\n                direction={direction}\n                onTokenClick={onTokenClick}\n                onDirectionClick={onDirectionClick}\n                selected={selected}\n            />\n        </div>\n    )\n}\n\nfunction generateContainerStyle(x, y, size) {\n    const left = (x * size) + 'px'\n    const top = (y * size) + 'px'\n\n    const width = size + 'px'\n    const height = size + 'px'\n\n    return {\n        position: 'absolute',\n        left,\n        top,\n        width,\n        height\n    }\n}\n","import { useSelector, useDispatch } from 'react-redux'\nimport { Grid } from './Grid'\nimport { GridToken } from './GridToken'\nimport { getColumns, getRows, getZoom, getTokenIds, unselectToken } from './state'\nimport styles from './Field.module.css'\n\nconst BASE_CELL_SIZE = 100\n\nexport function Field() {\n    const columns = useSelector(getColumns)\n    const rows = useSelector(getRows)\n    const zoom = useSelector(getZoom)\n    const tokenIds = useSelector(getTokenIds)\n\n    const cellSize = generateCellSize(zoom)\n    const gridTokens = generateGridTokens(tokenIds, cellSize)\n\n    const dispatch = useDispatch()\n    const onUnselectToken = () => dispatch(unselectToken())\n\n    return (\n        <div className={styles.field}>\n            <div\n                className={styles.gridWrapper}\n                onClick={onUnselectToken}\n            >\n                <Grid\n                    columns={columns}\n                    rows={rows}\n                    cellSize={cellSize}\n                >\n                    {gridTokens}\n                </Grid>\n            </div>\n        </div>\n    )\n}\n\nfunction generateCellSize(zoom) {\n    return BASE_CELL_SIZE * zoom\n}\n\nfunction generateGridTokens(tokenIds, cellSize) {\n    return tokenIds.map(tokenId =>\n        <GridToken\n            key={tokenId}\n            id={tokenId}\n            size={cellSize}\n        />\n    )\n}\n","import { useState, useEffect } from 'react'\n\nexport const useInput = (initialValue, listener = null) => {\n    const [value, setValue] = useState(initialValue)\n\n    useEffect(() => setValue(initialValue), [initialValue])\n\n    const bind = {\n        value,\n        onChange: (event) => {\n            setValue(event.target.value)\n            if (listener) {\n                listener(event.target.value)\n            }\n        }\n    }\n\n    return [\n        bind,\n        value,\n        setValue\n    ]\n}\n","import { useCallback } from 'react'\nimport { useInput } from './use-input'\nimport styles from './Forms.module.css'\n\nexport function TextField({\n    label,\n    max,\n    value,\n    onChange,\n    onFocus\n}) {\n    const changeHandler = useCallback((value) => {\n        if (value.length <= max) {\n            onChange(value)\n        }\n    }, [max, onChange])\n\n    const [bind] = useInput(value, changeHandler)\n\n    return (\n        <div className={styles.element}>\n            <label className={styles.label}>{label}</label>\n            <input\n                className={styles.input}\n                type=\"text\"\n                maxLength={max}\n                onFocus={onFocus}\n                {...bind}\n            />\n        </div>\n    )\n}\n","import { useCallback, useMemo } from 'react'\nimport { useInput } from './use-input'\nimport styles from './Forms.module.css'\n\nexport function SelectField(props) {\n    const { value, label, onChange } = props\n\n    const changeHandler = useCallback((value) => {\n        if (onChange) {\n            onChange(value)\n        }\n    }, [onChange])\n    const [bind, currentValue] = useInput(value, changeHandler)\n\n    const options = useMemo(\n        () => props.options.map(transformOption),\n        [props.options]\n    )\n\n    const selectStyle = useMemo(\n        () => getSelectStyle(currentValue, options),\n        [currentValue, options]\n    )\n\n    return (\n        <div className={styles.element}>\n            {label ? <label className={styles.label}>{label}</label> : null}\n            <select\n                className={styles.select}\n                style={selectStyle}\n                {...bind}\n            >\n                {options.map(generateOption)}\n            </select>\n        </div>\n    )\n}\n\nfunction transformOption(option) {\n    let value = null\n    let label = null\n    let style = null\n\n    if (typeof option === 'object' && option !== null) {\n        value = option.value\n        label = option.label\n        style = option.style\n    } else {\n        value = option + ''\n    }\n\n    if (label === null || label === undefined) {\n        label = value\n    }\n\n    return {\n        value,\n        label,\n        style\n    }\n}\n\nfunction getSelectStyle(currentValue, options) {\n    const option = options.find(option => option.value === currentValue)\n    return option ? option.style : null\n}\n\nfunction generateOption({ value, label, style }) {\n    return (\n        <option\n            key={value}\n            className={styles.option}\n            value={value}\n            style={style}\n        >\n            {label}\n        </option>\n    )\n}\n","import styles from './Panel.module.css'\n\nexport function Panel({ title, children }) {\n    return (\n        <div>\n            <h1 className={styles.title}>{title}</h1>\n            {children}\n        </div>\n    )\n}\n","import styles from './PanelCategory.module.css'\n\nexport function PanelCategory({ title, children }) {\n    return (\n        <div className={styles.container}>\n            {title ? <h2 className={styles.title}>{title}</h2> : null}\n            {children}\n        </div>\n    )\n}\n","import { useCallback } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport range from 'lodash.range'\nimport { SelectField } from '../forms'\nimport { getColumns, getRows, setDimensions, MIN_DIMENSIONS, MAX_DIMENSIONS } from '../field'\nimport { Panel } from './Panel'\nimport { PanelCategory } from './PanelCategory'\n\nexport function FieldPanel() {\n    return (\n        <Panel title=\"Field\">\n            <Dimensions />\n        </Panel>\n    )\n}\n\nfunction Dimensions() {\n    const dispatch = useDispatch()\n    const columns = useSelector(getColumns)\n    const rows = useSelector(getRows)\n\n    const columnsChanged = useCallback((columns) => {\n        dispatch(setDimensions({\n            columns,\n            rows\n        }))\n    }, [dispatch, rows])\n\n    const rowsChanged = useCallback((rows) => {\n        dispatch(setDimensions({\n            columns,\n            rows\n        }))\n    }, [dispatch, columns])\n\n    return (\n        <PanelCategory>\n            <DimensionSelect\n                label=\"Columns\"\n                value={columns}\n                onChange={columnsChanged}\n            />\n            <DimensionSelect\n                label=\"Rows\"\n                value={rows}\n                onChange={rowsChanged}\n            />\n        </PanelCategory>\n    )\n}\n\nfunction DimensionSelect({ label, value, onChange }) {\n    const options = range(MIN_DIMENSIONS, MAX_DIMENSIONS + 1)\n    return (\n        <SelectField\n            label={label}\n            options={options}\n            value={value}\n            onChange={onChange}\n        />\n    )\n}\n","import { useCallback } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { TextField } from '../forms'\nimport { getTokenById, setTokenSymbol } from '../field'\n\nexport function TokenSymbolField({ id }) {\n    const symbol = useSelector(state => {\n        const symbol = getTokenById(state, id).symbol\n        return symbol !== null ? symbol : ''\n    })\n\n    const dispatch = useDispatch()\n    const onChange = useCallback((symbol) => {\n        dispatch(setTokenSymbol({\n            id,\n            symbol\n        }))\n    }, [dispatch, id])\n\n    const onFocus = (event) => event.target.select()\n\n    return (\n        <TextField\n            label=\"Symbol\"\n            max=\"1\"\n            value={symbol}\n            onChange={onChange}\n            onFocus={onFocus}\n        />\n    )\n}\n","import { useCallback } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { getTextColor } from '../shared'\nimport { SelectField } from '../forms'\nimport { getTokenById, setTokenColor } from '../field'\n\nconst colors = [\n    createColor('Yellow', '#fff2cc'),\n    createColor('Red', '#f8cecc'),\n    createColor('Purple', '#d1c4e9'),\n    createColor('Blue', '#bbdefb'),\n    createColor('Green', '#d5e8d4'),\n    createColor('Grey', '#cfd8dc'),\n    createColor('Dark yellow', '#fdd835'),\n    createColor('Dark red', '#c62828'),\n    createColor('Dark purple', '#673ab7'),\n    createColor('Dark blue', '#1976d2'),\n    createColor('Dark green', '#2e7d32'),\n    createColor('Dark gray', '#647687')\n]\n\nfunction createColor(label, color) {\n    return {\n        label,\n        value: normalizeColor(color),\n        style: {\n            backgroundColor: color,\n            color: getTextColor(color)\n        }\n    }\n}\n\nfunction normalizeColor(color) {\n    return color ? color.toLowerCase() : null\n}\n\n// TODO Nicht bekannte Farbe als Option darstellen.\nexport function TokenColorSelection({ id }) {\n    const color = useSelector(state => {\n        const color = getTokenById(state, id).color\n        return normalizeColor(color)\n    })\n\n    const dispatch = useDispatch()\n    const onChange = useCallback((color) => {\n        dispatch(setTokenColor({\n            id,\n            color\n        }))\n    }, [dispatch, id])\n\n    return (\n        <SelectField\n            label=\"Color\"\n            options={colors}\n            value={color}\n            onChange={onChange}\n        />\n    )\n}\n","import { useCallback } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { SelectField } from '../forms'\nimport { getTokenById, setTokenDirection } from '../field'\nimport { Direction } from '../token'\n\nconst directions = [\n    { label: '🡅 North', value: Direction.north },\n    { label: '🡆 East', value: Direction.east },\n    { label: '🡇 South', value: Direction.south },\n    { label: '🡄 West', value: Direction.west },\n    { label: 'None', value: '' }\n]\n\nexport function TokenDirectionSelection({ id }) {\n    const direction = useSelector(state => {\n        const direction = getTokenById(state, id).direction\n        return direction !== null ? direction : ''\n    })\n\n    const dispatch = useDispatch()\n    const onChange = useCallback((direction) => {\n        dispatch(setTokenDirection({\n            id,\n            direction: direction !== '' ? direction : null\n        }))\n    }, [dispatch, id])\n\n    return (\n        <SelectField\n            label=\"Direction\"\n            options={directions}\n            value={direction}\n            onChange={onChange}\n        />\n    )\n}\n","import { Panel } from './Panel'\nimport { PanelCategory } from './PanelCategory'\nimport { TokenSymbolField } from './TokenSymbolField'\nimport { TokenColorSelection } from './TokenColorSelection'\nimport { TokenDirectionSelection } from './TokenDirectionSelection'\n\nexport function TokenPanel({ id }) {\n    return (\n        <Panel title=\"Token\">\n            <PanelCategory>\n                <TokenSymbolField id={id} />\n                <TokenColorSelection id={id} />\n                <TokenDirectionSelection id={id} />\n            </PanelCategory>\n        </Panel>\n    )\n}\n","import { useSelector } from 'react-redux'\nimport { getSelectedTokenId } from '../field'\nimport styles from './PanelContainer.module.css'\nimport { FieldPanel } from './FieldPanel'\nimport { TokenPanel } from './TokenPanel'\n\nexport function PanelContainer() {\n    const selectedTokenId = useSelector(getSelectedTokenId)\n\n    return (\n        <div className={styles.container}>\n            {selectedTokenId\n                ? <TokenPanel id={selectedTokenId} />\n                : <FieldPanel />\n            }\n        </div>\n    )\n}\n","import { createSlice } from '@reduxjs/toolkit'\n\nconst NAME = 'panel'\n\nexport const state = createSlice({\n    name: NAME,\n    initialState: {\n    },\n    reducers: {\n\n    }\n})\n","import { Field } from '../field'\nimport { PanelContainer } from '../panel'\nimport styles from './App.module.css'\n\nfunction App() {\n    return (\n        <div className={styles.container}>\n            <Field className={styles.field} />\n            <PanelContainer className={styles.tokenPanel} />\n        </div>\n    )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import { configureStore } from '@reduxjs/toolkit'\nimport { state as field } from './field'\nimport { state as panel } from './panel'\n\nexport const store = configureStore({\n    reducer: {\n        [field.name]: field.reducer,\n        [panel.name]: panel.reducer\n    }\n})\n","import React from 'react';\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { DndProvider } from './dnd'\nimport App from './app/App'\nimport * as serviceWorker from './serviceWorker'\nimport './base.css'\n\nimport { store } from './store'\nimport { Direction } from './token'\nimport { setDimensions, createToken } from './field'\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <DndProvider>\n                <App />\n            </DndProvider>\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n\nstore.dispatch(setDimensions({\n    columns: 5,\n    rows: 5\n}))\n\nstore.dispatch(createToken({\n    color: '#D5E8D4',\n    symbol: 'T',\n    direction: Direction.west,\n    x: 3,\n    y: 4\n}))\n\nstore.dispatch(createToken({\n    color: '#D5E8D4',\n    symbol: 'E',\n    direction: Direction.south,\n    x: 1,\n    y: 0\n}))\n\nstore.dispatch(createToken({\n    color: '#F8CECC',\n    symbol: 'M',\n    direction: Direction.south,\n    x: 1,\n    y: 1\n}))\n\nstore.dispatch(createToken({\n    color: '#F8CECC',\n    symbol: 'M',\n    direction: Direction.south,\n    x: 2,\n    y: 2\n}))\n\nstore.dispatch(createToken({\n    color: '#D5E8D4',\n    symbol: 'Y',\n    direction: Direction.west,\n    x: 3,\n    y: 2\n}))\n\nstore.dispatch(createToken({\n    color: '#D5E8D4',\n    symbol: 'K',\n    direction: Direction.north,\n    x: 1,\n    y: 3\n}))\n\nstore.dispatch(createToken({\n    color: '#647687',\n    symbol: '',\n    direction: null,\n    x: 4,\n    y: 0\n}))\n\nstore.dispatch(createToken({\n    color: '#647687',\n    symbol: '',\n    direction: null,\n    x: 3,\n    y: 1\n}))\n\nstore.dispatch(createToken({\n    color: '#647687',\n    symbol: '',\n    direction: null,\n    x: 0,\n    y: 2\n}))\n\nstore.dispatch(createToken({\n    color: '#647687',\n    symbol: '',\n    direction: null,\n    x: 1,\n    y: 4\n}))\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"element\":\"Forms_element__3Ktu0\",\"label\":\"Forms_label__9aoLd\",\"input\":\"Forms_input__34n01\",\"select\":\"Forms_select__32bDl\"};"],"sourceRoot":""}