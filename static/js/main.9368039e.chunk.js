(this.webpackJsonptabletop=this.webpackJsonptabletop||[]).push([[0],{13:function(e,t,o){e.exports={cell:"GridItem_cell__hsSTq",firstRow:"GridItem_firstRow__8BhAg",lastColumn:"GridItem_lastColumn__320FC",droppable:"GridItem_droppable__yTq2v"}},24:function(e,t,o){e.exports={field:"Field_field__1PltA",gridWrapper:"Field_gridWrapper__oluTN"}},28:function(e,t,o){e.exports={grid:"Grid_grid__5dSy0"}},4:function(e,t,o){e.exports={container:"Token_container__C3-vl",circle:"Token_circle__36Ifi",direction:"Token_direction__2emyN",selected:"Token_selected__1GyAX",current:"Token_current__P_JN5",north:"Token_north__2V4ME",south:"Token_south__2HjCE",west:"Token_west__2iXXe",east:"Token_east__Eu9f2",draggable:"Token_draggable__1ocar",dragging:"Token_dragging__1Uzd2"}},43:function(e,t,o){},44:function(e,t,o){"use strict";o.r(t);var n=o(0),r=o.n(n),i=o(14),c=o.n(i),l=o(3),s=o(49),a=o(32),d=o(28),u=o.n(d),b=o(6),f=o(17),h=o(51),p=o(9),j=o.n(p),g=o(13),m=o.n(g),k=o(50),x=o(4),_=o.n(x),O=o(29),y=o.n(O),v=o(2),C=Object.freeze({north:"north",south:"south",west:"west",east:"east"}),T="Token";function w(e){var t,o=e.id,r=e.size,i=e.color,c=e.symbol,l=e.direction,s=e.onTokenClick,a=e.onDirectionClick,d=e.selected,u=e.draggable,h=function(e,t){return Object(k.a)((function(){return{type:T,item:{id:e},canDrag:function(){return t},collect:function(e){return{isDragging:!!e.isDragging()}}}}),[e,t])}(o,u),p=Object(f.a)(h,2),g=p[0].isDragging,m=p[1],x=function(e,t){return Object(n.useCallback)((function(o){t&&(o.stopPropagation(),t(e))}),[e,t])}(o,s),O=D(C.north,o,a),w=D(C.south,o,a),E=D(C.west,o,a),N=D(C.east,o,a),B=function(e){return{backgroundColor:e,borderColor:y()(e).darken(2).saturate(2).hex()}}(i),R=function(e){return{width:e+"px",height:e+"px"}}(r),G=function(e){return{backgroundColor:e.backgroundColor,borderColor:e.borderColor}}(B),S=function(e,t){var o=W(e);return{top:0,left:I(e),borderLeftWidth:o,borderRightWidth:o,borderBottomWidth:o,borderBottomColor:t.borderColor}}(r,B),F=function(e,t){var o=W(e);return{bottom:0,left:I(e),borderLeftWidth:o,borderRightWidth:o,borderTopWidth:o,borderTopColor:t.borderColor}}(r,B),L=function(e,t){var o=W(e);return{top:I(e),left:0,borderTopWidth:o,borderBottomWidth:o,borderRightWidth:o,borderRightColor:t.borderColor}}(r,B),M=function(e,t){var o=W(e);return{top:I(e),right:0,borderTopWidth:o,borderBottomWidth:o,borderLeftWidth:o,borderLeftColor:t.borderColor}}(r,B),P=j()(_.a.container,(t={},Object(b.a)(t,_.a.selected,d),Object(b.a)(t,_.a.dragging,g),t)),A=j()(_.a.circle,Object(b.a)({},_.a.draggable,u));return Object(v.jsxs)("div",{ref:m,className:P,style:R,children:[Object(v.jsx)("div",{onClick:x,className:A,style:G,children:Object(v.jsx)("span",{children:c})}),z(C.north,O,S,_.a.north,_.a,l),z(C.south,w,F,_.a.south,_.a,l),z(C.west,E,L,_.a.west,_.a,l),z(C.east,N,M,_.a.east,_.a,l)]})}function D(e,t,o){return Object(n.useCallback)((function(n){o&&(n.stopPropagation(),o(t,e))}),[e,t,o])}function W(e){return e/10*3+"px"}function I(e){return e/5+"px"}function z(e,t,o,n,r,i){var c=e===i;return Object(v.jsx)("div",{onClick:t,className:j()(n,r.direction,Object(b.a)({},r.current,c)),style:o})}var E=o(31),N=o(18),B="field",R=Object(N.b)({name:B,initialState:{columns:0,rows:0,zoom:1,cells:[],nextTokenId:0,tokenIds:[],tokens:{},selectedTokenId:null},reducers:{setDimensions:function(e,t){var o=t.payload,n=o.columns,r=o.rows;e.columns=n,e.rows=r;for(var i=0;i<n;i++){e.cells[i]=[];for(var c=0;c<r;c++)e.cells[i][c]=null}},createToken:function(e,t){var o=Object(E.a)({id:e.nextTokenId++},t.payload);e.tokenIds.push(o.id),e.tokens[o.id]=o,e.cells[o.x][o.y]=o.id},moveToken:function(e,t){var o=t.payload,n=o.id,r=o.x,i=o.y,c=e.tokens[n];e.cells[c.x][c.y]=null,e.cells[r][i]=c.id,c.x=r,c.y=i},selectToken:function(e,t){var o=t.payload.id;e.selectedTokenId=o},unselectToken:function(e){e.selectedTokenId=null},toggleDirection:function(e,t){var o=t.payload,n=o.id,r=o.direction,i=e.tokens[n];i.direction!==r?i.direction=r:i.direction=null}}}),G=function(e){return e.field.columns},S=function(e){return e.field.rows},F=function(e){return e.field.zoom},L=function(e){return e.field.tokenIds},M=R.actions,P=M.setDimensions,A=M.createToken,J=M.moveToken,X=M.selectToken,q=M.unselectToken,H=M.toggleDirection;function K(e){var t,o=e.x,n=e.y,r=e.columns,i=e.size,c=function(e,t){var o=Object(l.b)(),n=Object(l.c)((function(o){return function(e,t,o){return null===e.field.cells[t][o]}(o,e,t)}));return Object(h.a)((function(){return{accept:T,canDrop:function(){return n},drop:function(n){return function(e,t,o,n){var r=e.id;n(J({id:r,x:t,y:o}))}(n,e,t,o)},collect:function(e){return{isOver:!!e.isOver(),canDrop:!!e.canDrop()}}}}),[e,t,n,o])}(o,n),s=Object(f.a)(c,2),a=s[0],d=a.isOver,u=a.canDrop,p=s[1],g=j()(m.a.cell,(t={},Object(b.a)(t,m.a.firstRow,0===n),Object(b.a)(t,m.a.lastColumn,o===r-1),Object(b.a)(t,m.a.droppable,d&&u),t)),k=function(e){var t=e+"px";return{width:t,height:t,lineHeight:t}}(i);return Object(v.jsx)("div",{ref:p,className:g,style:k})}function U(e){var t=e.columns,o=e.rows,n=e.cellSize,r=e.children,i=function(e,t,o){return{width:e*o+"px",height:t*o+"px"}}(t,o,n),c=function(e,t,o){for(var n=[],r=0;r<t;r++)for(var i=0;i<e;i++)n.push(Object(v.jsx)(K,{x:i,y:r,columns:e,size:o},i+";"+r));return n}(t,o,n);return Object(v.jsxs)("div",{className:u.a.grid,style:i,children:[c,r]})}function V(e){var t=e.id,o=e.size,r=Object(l.c)((function(e){return function(e,t){return e.field.tokens[t]}(e,t)})),i=r.color,c=r.symbol,s=r.direction,a=r.x,d=r.y,u=Object(l.c)((function(e){return function(e,t){return e.field.selectedTokenId===t}(e,t)})),b=Object(l.b)(),f=Object(n.useCallback)((function(e){b(u?q():X({id:e}))}),[b,u]),h=Object(n.useCallback)((function(e,t){b(u?H({id:e,direction:t}):X({id:e}))}),[b,u]),p=function(e,t,o){return{position:"absolute",left:e*o+"px",top:t*o+"px",width:o+"px",height:o+"px"}}(a,d,o);return Object(v.jsx)("div",{style:p,children:Object(v.jsx)(w,{id:t,size:o,color:i,symbol:c,direction:s,onTokenClick:f,onDirectionClick:h,selected:u,draggable:!0})})}var Y=o(24),$=o.n(Y);function Q(){var e=Object(l.c)(G),t=Object(l.c)(S),o=Object(l.c)(F),n=Object(l.c)(L),r=function(e){return 100*e}(o),i=function(e,t){return e.map((function(e){return Object(v.jsx)(V,{id:e,size:t},e)}))}(n,r),c=Object(l.b)();return Object(v.jsx)("div",{className:$.a.field,children:Object(v.jsx)("div",{className:$.a.gridWrapper,onClick:function(){return c(q())},children:Object(v.jsx)(U,{columns:e,rows:t,cellSize:r,children:i})})})}var Z=function(){return Object(v.jsx)(Q,{})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o(43);var ee=Object(N.a)({reducer:Object(b.a)({},R.name,R.reducer)});c.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(l.a,{store:ee,children:Object(v.jsx)(s.a,{backend:a.a,children:Object(v.jsx)(Z,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})),ee.dispatch(P({columns:5,rows:5})),ee.dispatch(A({color:"#D5E8D4",symbol:"T",direction:C.west,x:4,y:4})),ee.dispatch(A({color:"#D5E8D4",symbol:"E",direction:C.south,x:1,y:0})),ee.dispatch(A({color:"#F8CECC",symbol:"M",direction:C.south,x:1,y:1})),ee.dispatch(A({color:"#F8CECC",symbol:"M",direction:C.south,x:2,y:2})),ee.dispatch(A({color:"#D5E8D4",symbol:"Y",direction:C.west,x:3,y:2})),ee.dispatch(A({color:"#D5E8D4",symbol:"K",direction:C.north,x:1,y:3})),ee.dispatch(A({color:"#647687",symbol:"",direction:null,x:4,y:0})),ee.dispatch(A({color:"#647687",symbol:"",direction:null,x:3,y:1})),ee.dispatch(A({color:"#647687",symbol:"",direction:null,x:0,y:2})),ee.dispatch(A({color:"#647687",symbol:"",direction:null,x:1,y:4})),ee.dispatch(J({id:"0",x:3,y:4}))}},[[44,1,2]]]);
//# sourceMappingURL=main.9368039e.chunk.js.map