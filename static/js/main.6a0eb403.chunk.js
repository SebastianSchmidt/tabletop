(this.webpackJsonptabletop=this.webpackJsonptabletop||[]).push([[0],{15:function(e,t,n){e.exports={cell:"GridItem_cell__hsSTq",firstRow:"GridItem_firstRow__8BhAg",lastColumn:"GridItem_lastColumn__320FC",droppable:"GridItem_droppable__yTq2v"}},22:function(e,t,n){e.exports={element:"Forms_element__3Ktu0",label:"Forms_label__9aoLd",input:"Forms_input__34n01"}},23:function(e,t,n){e.exports={container:"App_container__7_OSo",field:"App_field__1Za-d",tokenPanel:"App_tokenPanel__1Y1io"}},28:function(e,t,n){e.exports={field:"Field_field__1PltA",gridWrapper:"Field_gridWrapper__oluTN"}},29:function(e,t,n){e.exports={container:"PanelCategory_container__2ywKt",title:"PanelCategory_title__2RLOE"}},33:function(e,t,n){e.exports={grid:"Grid_grid__5dSy0"}},35:function(e,t,n){e.exports={container:"PanelContainer_container__12MNC"}},36:function(e,t,n){e.exports={title:"Panel_title__2jCxg"}},48:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),c=n(16),i=n.n(c),l=n(3),a=n(54),s=n(37),u=n(33),d=n.n(u),b=n(4),f=n(9),j=n(56),h=n(11),m=n.n(h),p=n(15),x=n.n(p),O=n(55),_=n(5),v=n.n(_),k=n(21),g=n.n(k),y=n(1),C=Object.freeze({north:"north",south:"south",west:"west",east:"east"}),w="Token",T="#000000",D="#FFFFFF";function N(e){var t,n=e.id,r=e.size,c=e.color,i=e.symbol,l=e.direction,a=e.onTokenClick,s=e.onDirectionClick,u=e.selected,d=e.draggable,j=function(e,t){return Object(O.a)((function(){return{type:w,item:{id:e},canDrag:function(){return t},collect:function(e){return{isDragging:!!e.isDragging()}}}}),[e,t])}(n,d),h=Object(f.a)(j,2),p=h[0].isDragging,x=h[1],_=function(e,t){return Object(o.useCallback)((function(n){t&&(n.stopPropagation(),t(e))}),[e,t])}(n,a),k=I(C.north,n,s),N=I(C.south,n,s),z=I(C.west,n,s),P=I(C.east,n,s),S=function(e){var t=g.a.contrast(T,e)>=g.a.contrast(D,e);return{backgroundColor:e,borderColor:g()(e).darken(2).saturate(2).hex(),textColor:t?T:D}}(c),M=function(e){return{width:e+"px",height:e+"px"}}(r),R=function(e){return{backgroundColor:e.backgroundColor,borderColor:e.borderColor,color:e.textColor}}(S),B=function(e,t){var n=W(e);return{top:0,left:F(e),borderLeftWidth:n,borderRightWidth:n,borderBottomWidth:n,borderBottomColor:t.borderColor}}(r,S),A=function(e,t){var n=W(e);return{bottom:0,left:F(e),borderLeftWidth:n,borderRightWidth:n,borderTopWidth:n,borderTopColor:t.borderColor}}(r,S),G=function(e,t){var n=W(e);return{top:F(e),left:0,borderTopWidth:n,borderBottomWidth:n,borderRightWidth:n,borderRightColor:t.borderColor}}(r,S),L=function(e,t){var n=W(e);return{top:F(e),right:0,borderTopWidth:n,borderBottomWidth:n,borderLeftWidth:n,borderLeftColor:t.borderColor}}(r,S),J=m()(v.a.container,(t={},Object(b.a)(t,v.a.selected,u),Object(b.a)(t,v.a.dragging,p),t)),K=m()(v.a.circle,Object(b.a)({},v.a.draggable,d));return Object(y.jsxs)("div",{ref:x,className:J,style:M,children:[Object(y.jsx)("div",{onClick:_,className:K,style:R,children:Object(y.jsx)("span",{children:i})}),E(C.north,k,B,v.a.north,v.a,l),E(C.south,N,A,v.a.south,v.a,l),E(C.west,z,G,v.a.west,v.a,l),E(C.east,P,L,v.a.east,v.a,l)]})}function I(e,t,n){return Object(o.useCallback)((function(o){n&&(o.stopPropagation(),n(t,e))}),[e,t,n])}function W(e){return e/10*3+"px"}function F(e){return e/5+"px"}function E(e,t,n,o,r,c){var i=e===c;return Object(y.jsx)("div",{onClick:t,className:m()(o,r.direction,Object(b.a)({},r.current,i)),style:n})}var z=n(19),P=n(10),S="field";function M(e){return Math.max(1,Math.min(100,e))}var R=Object(P.b)({name:S,initialState:{columns:1,rows:1,zoom:1,cells:[[null]],nextTokenId:0,tokenIds:[],tokens:{},selectedTokenId:null},reducers:{setDimensions:function(e,t){var n=M(t.payload.columns),o=M(t.payload.rows),r=n-e.columns;r>0?function(e,t){for(var n=e.columns,o=e.columns+t,r=n;r<o;r++){e.cells[r]=[];for(var c=0;c<e.rows;c++)e.cells[r][c]=null}}(e,r):r<0&&function(e,t){for(var n=e.columns-t,o=e.columns,r=n;r<o;r++)for(var c=function(t){var n=e.cells[r][t];n&&(e.tokenIds=e.tokenIds.filter((function(e){return e!==n})),delete e.tokens[n])},i=0;i<e.rows;i++)c(i);e.cells.splice(n,t)}(e,Math.abs(r)),e.columns=n;var c=o-e.rows;c>0?function(e,t){for(var n=e.rows,o=e.rows+t,r=0;r<e.columns;r++)for(var c=n;c<o;c++)e.cells[r][c]=null}(e,c):c<0&&function(e,t){for(var n=e.rows-t,o=e.rows,r=0;r<e.columns;r++){for(var c=function(t){var n=e.cells[r][t];n&&(e.tokenIds=e.tokenIds.filter((function(e){return e!==n})),delete e.tokens[n])},i=n;i<o;i++)c(i);e.cells[r].splice(n,t)}}(e,Math.abs(c)),e.rows=o},createToken:function(e,t){var n=Object(z.a)({id:e.nextTokenId+++""},t.payload);e.tokenIds.push(n.id),e.tokens[n.id]=n,e.cells[n.x][n.y]=n.id},moveToken:function(e,t){var n=t.payload,o=n.id,r=n.x,c=n.y,i=e.tokens[o];e.cells[i.x][i.y]=null,e.cells[r][c]=i.id,i.x=r,i.y=c},selectToken:function(e,t){var n=t.payload.id;e.selectedTokenId=n},unselectToken:function(e){e.selectedTokenId=null},toggleDirection:function(e,t){var n=t.payload,o=n.id,r=n.direction,c=e.tokens[o];c.direction!==r?c.direction=r:c.direction=null},setTokenSymbol:function(e,t){var n=t.payload,o=n.id,r=n.symbol;e.tokens[o].symbol=r}}});var B=function(e){return e.field.columns},A=function(e){return e.field.rows},G=function(e){return e.field.zoom},L=function(e){return e.field.tokenIds},J=function(e){return e.field.selectedTokenId},K=R.actions,X=K.setDimensions,q=K.createToken,H=K.moveToken,Y=K.selectToken,U=K.unselectToken,V=K.toggleDirection;K.setTokenSymbol;function Z(e){var t,n=e.x,o=e.y,r=e.columns,c=e.size,i=function(e,t){var n=Object(l.b)(),o=Object(l.c)((function(n){return function(e,t,n){return null===e.field.cells[t][n]}(n,e,t)}));return Object(j.a)((function(){return{accept:w,canDrop:function(){return o},drop:function(o){return function(e,t,n,o){var r=e.id;o(H({id:r,x:t,y:n}))}(o,e,t,n)},collect:function(e){return{isOver:!!e.isOver(),canDrop:!!e.canDrop()}}}}),[e,t,o,n])}(n,o),a=Object(f.a)(i,2),s=a[0],u=s.isOver,d=s.canDrop,h=a[1],p=m()(x.a.cell,(t={},Object(b.a)(t,x.a.firstRow,0===o),Object(b.a)(t,x.a.lastColumn,n===r-1),Object(b.a)(t,x.a.droppable,u&&d),t)),O=function(e){var t=e+"px";return{width:t,height:t,lineHeight:t}}(c);return Object(y.jsx)("div",{ref:h,className:p,style:O})}function $(e){var t=e.columns,n=e.rows,o=e.cellSize,r=e.children,c=function(e,t,n){return{width:e*n+"px",height:t*n+"px"}}(t,n,o),i=function(e,t,n){for(var o=[],r=0;r<t;r++)for(var c=0;c<e;c++)o.push(Object(y.jsx)(Z,{x:c,y:r,columns:e,size:n},c+";"+r));return o}(t,n,o);return Object(y.jsxs)("div",{className:d.a.grid,style:c,children:[i,r]})}function Q(e){var t=e.id,n=e.size,r=Object(l.c)((function(e){return function(e,t){return e.field.tokens[t]}(e,t)})),c=r.color,i=r.symbol,a=r.direction,s=r.x,u=r.y,d=Object(l.c)((function(e){return function(e,t){return e.field.selectedTokenId===t}(e,t)})),b=Object(l.b)(),f=Object(o.useCallback)((function(e){b(d?U():Y({id:e}))}),[b,d]),j=Object(o.useCallback)((function(e,t){b(d?V({id:e,direction:t}):Y({id:e}))}),[b,d]),h=function(e,t,n){return{position:"absolute",left:e*n+"px",top:t*n+"px",width:n+"px",height:n+"px"}}(s,u,n);return Object(y.jsx)("div",{style:h,children:Object(y.jsx)(N,{id:t,size:n,color:c,symbol:i,direction:a,onTokenClick:f,onDirectionClick:j,selected:d,draggable:!0})})}var ee=n(28),te=n.n(ee);function ne(){var e=Object(l.c)(B),t=Object(l.c)(A),n=Object(l.c)(G),o=Object(l.c)(L),r=function(e){return 100*e}(n),c=function(e,t){return e.map((function(e){return Object(y.jsx)(Q,{id:e,size:t},e)}))}(o,r),i=Object(l.b)();return Object(y.jsx)("div",{className:te.a.field,children:Object(y.jsx)("div",{className:te.a.gridWrapper,onClick:function(){return i(U())},children:Object(y.jsx)($,{columns:e,rows:t,cellSize:r,children:c})})})}var oe=n(35),re=n.n(oe),ce=n(22),ie=n.n(ce);function le(e){var t=e.label,n=e.min,r=e.max,c=e.value,i=e.onChange,l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object(o.useState)(e),r=Object(f.a)(n,2),c=r[0],i=r[1];return Object(o.useEffect)((function(){return i(e)}),[e]),[{value:c,onChange:function(e){i(e.target.value),t&&t(e.target.value)}},c,i]}(c,Object(o.useCallback)((function(e){var t=parseInt(e);!isNaN(t)&&n<=t&&t<=r&&i(t)}),[n,r,i])),a=Object(f.a)(l,1)[0];return Object(y.jsxs)("div",{className:ie.a.element,children:[Object(y.jsx)("label",{className:ie.a.label,children:t}),Object(y.jsx)("input",Object(z.a)({className:ie.a.input,type:"number",min:n,max:r},a))]})}var ae=n(36),se=n.n(ae);function ue(e){var t=e.title,n=e.children;return Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{className:se.a.title,children:t}),n]})}var de=n(29),be=n.n(de);function fe(e){var t=e.title,n=e.children;return Object(y.jsxs)("div",{className:be.a.container,children:[t?Object(y.jsx)("h2",{className:be.a.title,children:t}):null,n]})}function je(){return Object(y.jsx)(ue,{title:"Field",children:Object(y.jsx)(he,{})})}function he(){var e=Object(l.b)(),t=Object(l.c)(B),n=Object(l.c)(A),r=Object(o.useCallback)((function(t){e(X({columns:t,rows:n}))}),[e,n]),c=Object(o.useCallback)((function(n){e(X({columns:t,rows:n}))}),[e,t]);return Object(y.jsxs)(fe,{title:"Dimensions",children:[Object(y.jsx)(le,{label:"Columns",min:1,max:100,value:t,onChange:r}),Object(y.jsx)(le,{label:"Rows",min:1,max:100,value:n,onChange:c})]})}function me(e){var t=e.id;return Object(y.jsx)(ue,{title:"Token",children:Object(y.jsxs)(fe,{children:["Debug: ",t]})})}function pe(){var e=Object(l.c)(J);return Object(y.jsx)("div",{className:re.a.container,children:e?Object(y.jsx)(me,{id:e}):Object(y.jsx)(je,{})})}var xe=Object(P.b)({name:"panel",initialState:{},reducers:{}}),Oe=n(23),_e=n.n(Oe);var ve=function(){return Object(y.jsxs)("div",{className:_e.a.container,children:[Object(y.jsx)(ne,{className:_e.a.field}),Object(y.jsx)(pe,{className:_e.a.tokenPanel})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(48);var ke,ge=Object(P.a)({reducer:(ke={},Object(b.a)(ke,R.name,R.reducer),Object(b.a)(ke,xe.name,xe.reducer),ke)});i.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(l.a,{store:ge,children:Object(y.jsx)(a.a,{backend:s.a,children:Object(y.jsx)(ve,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})),ge.dispatch(X({columns:5,rows:5})),ge.dispatch(q({color:"#D5E8D4",symbol:"T",direction:C.west,x:4,y:4})),ge.dispatch(q({color:"#D5E8D4",symbol:"E",direction:C.south,x:1,y:0})),ge.dispatch(q({color:"#F8CECC",symbol:"M",direction:C.south,x:1,y:1})),ge.dispatch(q({color:"#F8CECC",symbol:"M",direction:C.south,x:2,y:2})),ge.dispatch(q({color:"#D5E8D4",symbol:"Y",direction:C.west,x:3,y:2})),ge.dispatch(q({color:"#D5E8D4",symbol:"K",direction:C.north,x:1,y:3})),ge.dispatch(q({color:"#647687",symbol:"",direction:null,x:4,y:0})),ge.dispatch(q({color:"#647687",symbol:"",direction:null,x:3,y:1})),ge.dispatch(q({color:"#647687",symbol:"",direction:null,x:0,y:2})),ge.dispatch(q({color:"#647687",symbol:"",direction:null,x:1,y:4})),ge.dispatch(H({id:"0",x:3,y:4}))},5:function(e,t,n){e.exports={container:"Token_container__C3-vl",circle:"Token_circle__36Ifi",direction:"Token_direction__2emyN",selected:"Token_selected__1GyAX",current:"Token_current__P_JN5",north:"Token_north__2V4ME",south:"Token_south__2HjCE",west:"Token_west__2iXXe",east:"Token_east__Eu9f2",draggable:"Token_draggable__1ocar",dragging:"Token_dragging__1Uzd2"}}},[[49,1,2]]]);
//# sourceMappingURL=main.6a0eb403.chunk.js.map