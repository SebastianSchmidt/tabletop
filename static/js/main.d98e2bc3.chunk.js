(this.webpackJsonptabletop=this.webpackJsonptabletop||[]).push([[0],{16:function(e,t,n){e.exports={cell:"GridItem_cell__hsSTq",firstRow:"GridItem_firstRow__8BhAg",lastColumn:"GridItem_lastColumn__320FC",droppable:"GridItem_droppable__yTq2v"}},22:function(e,t,n){e.exports={container:"App_container__7_OSo",field:"App_field__1Za-d",tokenPanel:"App_tokenPanel__1Y1io"}},27:function(e,t,n){e.exports={field:"Field_field__1PltA",gridWrapper:"Field_gridWrapper__oluTN"}},28:function(e,t,n){e.exports={container:"PanelCategory_container__2ywKt",title:"PanelCategory_title__2RLOE"}},32:function(e,t,n){e.exports={grid:"Grid_grid__5dSy0"}},34:function(e,t,n){e.exports={container:"PanelContainer_container__12MNC"}},35:function(e,t,n){e.exports={title:"Panel_title__2jCxg"}},47:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),c=n(17),i=n.n(c),l=n(3),a=n(53),s=n(36),d=n(32),u=n.n(d),b=n(4),f=n(9),j=n(55),h=n(11),p=n.n(h),O=n(16),m=n.n(O),x=n(54),v=n(5),_=n.n(v),k=n(21),g=n.n(k),y=n(1),C=Object.freeze({north:"north",south:"south",west:"west",east:"east"}),w="Token",T="#000000",D="#FFFFFF";function I(e){var t,n=e.id,r=e.size,c=e.color,i=e.symbol,l=e.direction,a=e.onTokenClick,s=e.onDirectionClick,d=e.selected,u=e.draggable,j=function(e,t){return Object(x.a)((function(){return{type:w,item:{id:e},canDrag:function(){return t},collect:function(e){return{isDragging:!!e.isDragging()}}}}),[e,t])}(n,u),h=Object(f.a)(j,2),O=h[0].isDragging,m=h[1],v=function(e,t){return Object(o.useCallback)((function(n){t&&(n.stopPropagation(),t(e))}),[e,t])}(n,a),k=N(C.north,n,s),I=N(C.south,n,s),F=N(C.west,n,s),S=N(C.east,n,s),P=function(e){var t=g.a.contrast(T,e)>=g.a.contrast(D,e);return{backgroundColor:e,borderColor:g()(e).darken(2).saturate(2).hex(),textColor:t?T:D}}(c),M=function(e){return{width:e+"px",height:e+"px"}}(r),R=function(e){return{backgroundColor:e.backgroundColor,borderColor:e.borderColor,color:e.textColor}}(P),B=function(e,t){var n=W(e);return{top:0,left:E(e),borderLeftWidth:n,borderRightWidth:n,borderBottomWidth:n,borderBottomColor:t.borderColor}}(r,P),A=function(e,t){var n=W(e);return{bottom:0,left:E(e),borderLeftWidth:n,borderRightWidth:n,borderTopWidth:n,borderTopColor:t.borderColor}}(r,P),G=function(e,t){var n=W(e);return{top:E(e),left:0,borderTopWidth:n,borderBottomWidth:n,borderRightWidth:n,borderRightColor:t.borderColor}}(r,P),L=function(e,t){var n=W(e);return{top:E(e),right:0,borderTopWidth:n,borderBottomWidth:n,borderLeftWidth:n,borderLeftColor:t.borderColor}}(r,P),J=p()(_.a.container,(t={},Object(b.a)(t,_.a.selected,d),Object(b.a)(t,_.a.dragging,O),t)),X=p()(_.a.circle,Object(b.a)({},_.a.draggable,u));return Object(y.jsxs)("div",{ref:m,className:J,style:M,children:[Object(y.jsx)("div",{onClick:v,className:X,style:R,children:Object(y.jsx)("span",{children:i})}),z(C.north,k,B,_.a.north,_.a,l),z(C.south,I,A,_.a.south,_.a,l),z(C.west,F,G,_.a.west,_.a,l),z(C.east,S,L,_.a.east,_.a,l)]})}function N(e,t,n){return Object(o.useCallback)((function(o){n&&(o.stopPropagation(),n(t,e))}),[e,t,n])}function W(e){return e/10*3+"px"}function E(e){return e/5+"px"}function z(e,t,n,o,r,c){var i=e===c;return Object(y.jsx)("div",{onClick:t,className:p()(o,r.direction,Object(b.a)({},r.current,i)),style:n})}var F=n(15),S=n(10),P="field";function M(e){return Math.max(1,Math.min(100,e))}var R=Object(S.b)({name:P,initialState:{columns:1,rows:1,zoom:1,cells:[[null]],nextTokenId:0,tokenIds:[],tokens:{},selectedTokenId:null},reducers:{setDimensions:function(e,t){var n=M(t.payload.columns),o=M(t.payload.rows),r=n-e.columns;r>0?function(e,t){for(var n=e.columns,o=e.columns+t,r=n;r<o;r++){e.cells[r]=[];for(var c=0;c<e.rows;c++)e.cells[r][c]=null}}(e,r):r<0&&function(e,t){for(var n=e.columns-t,o=e.columns,r=n;r<o;r++)for(var c=function(t){var n=e.cells[r][t];n&&(e.tokenIds=e.tokenIds.filter((function(e){return e!==n})),delete e.tokens[n])},i=0;i<e.rows;i++)c(i);e.cells.splice(n,t)}(e,Math.abs(r)),e.columns=n;var c=o-e.rows;c>0?function(e,t){for(var n=e.rows,o=e.rows+t,r=0;r<e.columns;r++)for(var c=n;c<o;c++)e.cells[r][c]=null}(e,c):c<0&&function(e,t){for(var n=e.rows-t,o=e.rows,r=0;r<e.columns;r++){for(var c=function(t){var n=e.cells[r][t];n&&(e.tokenIds=e.tokenIds.filter((function(e){return e!==n})),delete e.tokens[n])},i=n;i<o;i++)c(i);e.cells[r].splice(n,t)}}(e,Math.abs(c)),e.rows=o},createToken:function(e,t){var n=Object(F.a)({id:e.nextTokenId+++""},t.payload);e.tokenIds.push(n.id),e.tokens[n.id]=n,e.cells[n.x][n.y]=n.id},moveToken:function(e,t){var n=t.payload,o=n.id,r=n.x,c=n.y,i=e.tokens[o];e.cells[i.x][i.y]=null,e.cells[r][c]=i.id,i.x=r,i.y=c},selectToken:function(e,t){var n=t.payload.id;e.selectedTokenId=n},unselectToken:function(e){e.selectedTokenId=null},toggleDirection:function(e,t){var n=t.payload,o=n.id,r=n.direction,c=e.tokens[o];c.direction!==r?c.direction=r:c.direction=null},setTokenSymbol:function(e,t){var n=t.payload,o=n.id,r=n.symbol;e.tokens[o].symbol=r}}});var B=function(e){return e.field.columns},A=function(e){return e.field.rows},G=function(e){return e.field.zoom},L=function(e){return e.field.tokenIds},J=function(e){return e.field.selectedTokenId},X=R.actions,q=X.setDimensions,H=X.createToken,K=X.moveToken,Y=X.selectToken,U=X.unselectToken,V=X.toggleDirection;X.setTokenSymbol;function Z(e){var t,n=e.x,o=e.y,r=e.columns,c=e.size,i=function(e,t){var n=Object(l.b)(),o=Object(l.c)((function(n){return function(e,t,n){return null===e.field.cells[t][n]}(n,e,t)}));return Object(j.a)((function(){return{accept:w,canDrop:function(){return o},drop:function(o){return function(e,t,n,o){var r=e.id;o(K({id:r,x:t,y:n}))}(o,e,t,n)},collect:function(e){return{isOver:!!e.isOver(),canDrop:!!e.canDrop()}}}}),[e,t,o,n])}(n,o),a=Object(f.a)(i,2),s=a[0],d=s.isOver,u=s.canDrop,h=a[1],O=p()(m.a.cell,(t={},Object(b.a)(t,m.a.firstRow,0===o),Object(b.a)(t,m.a.lastColumn,n===r-1),Object(b.a)(t,m.a.droppable,d&&u),t)),x=function(e){var t=e+"px";return{width:t,height:t,lineHeight:t}}(c);return Object(y.jsx)("div",{ref:h,className:O,style:x})}function $(e){var t=e.columns,n=e.rows,o=e.cellSize,r=e.children,c=function(e,t,n){return{width:e*n+"px",height:t*n+"px"}}(t,n,o),i=function(e,t,n){for(var o=[],r=0;r<t;r++)for(var c=0;c<e;c++)o.push(Object(y.jsx)(Z,{x:c,y:r,columns:e,size:n},c+";"+r));return o}(t,n,o);return Object(y.jsxs)("div",{className:u.a.grid,style:c,children:[i,r]})}function Q(e){var t=e.id,n=e.size,r=Object(l.c)((function(e){return function(e,t){return e.field.tokens[t]}(e,t)})),c=r.color,i=r.symbol,a=r.direction,s=r.x,d=r.y,u=Object(l.c)((function(e){return function(e,t){return e.field.selectedTokenId===t}(e,t)})),b=Object(l.b)(),f=Object(o.useCallback)((function(e){b(u?U():Y({id:e}))}),[b,u]),j=Object(o.useCallback)((function(e,t){b(u?V({id:e,direction:t}):Y({id:e}))}),[b,u]),h=function(e,t,n){return{position:"absolute",left:e*n+"px",top:t*n+"px",width:n+"px",height:n+"px"}}(s,d,n);return Object(y.jsx)("div",{style:h,children:Object(y.jsx)(I,{id:t,size:n,color:c,symbol:i,direction:a,onTokenClick:f,onDirectionClick:j,selected:u,draggable:!0})})}var ee=n(27),te=n.n(ee);function ne(){var e=Object(l.c)(B),t=Object(l.c)(A),n=Object(l.c)(G),o=Object(l.c)(L),r=function(e){return 100*e}(n),c=function(e,t){return e.map((function(e){return Object(y.jsx)(Q,{id:e,size:t},e)}))}(o,r),i=Object(l.b)();return Object(y.jsx)("div",{className:te.a.field,children:Object(y.jsx)("div",{className:te.a.gridWrapper,onClick:function(){return i(U())},children:Object(y.jsx)($,{columns:e,rows:t,cellSize:r,children:c})})})}var oe=n(34),re=n.n(oe),ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object(o.useState)(e),r=Object(f.a)(n,2),c=r[0],i=r[1];Object(o.useEffect)((function(){return i(e)}),[e]);var l={value:c,onChange:function(e){i(e.target.value),t&&t(e.target.value)}};return[l,c,i]},ie=n(35),le=n.n(ie);function ae(e){var t=e.title,n=e.children;return Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{className:le.a.title,children:t}),n]})}var se=n(28),de=n.n(se);function ue(e){var t=e.title,n=e.children;return Object(y.jsxs)("div",{className:de.a.container,children:[t?Object(y.jsx)("h2",{className:de.a.title,children:t}):null,n]})}function be(){return Object(y.jsx)(ae,{title:"Field",children:Object(y.jsx)(fe,{})})}function fe(){var e=Object(l.b)(),t=Object(l.c)(B),n=Object(l.c)(A),r=Object(o.useCallback)((function(t){var o=parseInt(t);isNaN(o)||e(q({columns:o,rows:n}))}),[e,n]),c=Object(o.useCallback)((function(n){var o=parseInt(n);isNaN(o)||e(q({columns:t,rows:o}))}),[e,t]),i=ce(t,r),a=Object(f.a)(i,1)[0],s=ce(n,c),d=Object(f.a)(s,1)[0];return Object(y.jsxs)(ue,{title:"Dimensions",children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{children:"Spalten"}),Object(y.jsx)("input",Object(F.a)({type:"number",min:"1"},a))]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{children:"Reihen"}),Object(y.jsx)("input",Object(F.a)({type:"number",min:"1"},d))]})]})}function je(e){var t=e.id;return Object(y.jsx)(ae,{title:"Token",children:Object(y.jsxs)(ue,{children:["Debug: ",t]})})}function he(){var e=Object(l.c)(J);return Object(y.jsx)("div",{className:re.a.container,children:e?Object(y.jsx)(je,{id:e}):Object(y.jsx)(be,{})})}var pe=Object(S.b)({name:"panel",initialState:{},reducers:{}}),Oe=n(22),me=n.n(Oe);var xe=function(){return Object(y.jsxs)("div",{className:me.a.container,children:[Object(y.jsx)(ne,{className:me.a.field}),Object(y.jsx)(he,{className:me.a.tokenPanel})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(47);var ve,_e=Object(S.a)({reducer:(ve={},Object(b.a)(ve,R.name,R.reducer),Object(b.a)(ve,pe.name,pe.reducer),ve)});i.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(l.a,{store:_e,children:Object(y.jsx)(a.a,{backend:s.a,children:Object(y.jsx)(xe,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})),_e.dispatch(q({columns:5,rows:5})),_e.dispatch(H({color:"#D5E8D4",symbol:"T",direction:C.west,x:4,y:4})),_e.dispatch(H({color:"#D5E8D4",symbol:"E",direction:C.south,x:1,y:0})),_e.dispatch(H({color:"#F8CECC",symbol:"M",direction:C.south,x:1,y:1})),_e.dispatch(H({color:"#F8CECC",symbol:"M",direction:C.south,x:2,y:2})),_e.dispatch(H({color:"#D5E8D4",symbol:"Y",direction:C.west,x:3,y:2})),_e.dispatch(H({color:"#D5E8D4",symbol:"K",direction:C.north,x:1,y:3})),_e.dispatch(H({color:"#647687",symbol:"",direction:null,x:4,y:0})),_e.dispatch(H({color:"#647687",symbol:"",direction:null,x:3,y:1})),_e.dispatch(H({color:"#647687",symbol:"",direction:null,x:0,y:2})),_e.dispatch(H({color:"#647687",symbol:"",direction:null,x:1,y:4})),_e.dispatch(K({id:"0",x:3,y:4}))},5:function(e,t,n){e.exports={container:"Token_container__C3-vl",circle:"Token_circle__36Ifi",direction:"Token_direction__2emyN",selected:"Token_selected__1GyAX",current:"Token_current__P_JN5",north:"Token_north__2V4ME",south:"Token_south__2HjCE",west:"Token_west__2iXXe",east:"Token_east__Eu9f2",draggable:"Token_draggable__1ocar",dragging:"Token_dragging__1Uzd2"}}},[[48,1,2]]]);
//# sourceMappingURL=main.d98e2bc3.chunk.js.map