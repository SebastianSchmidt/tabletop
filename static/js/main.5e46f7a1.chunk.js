(this.webpackJsonptabletop=this.webpackJsonptabletop||[]).push([[0],{16:function(e,t,n){e.exports={cell:"GridItem_cell__hsSTq",firstRow:"GridItem_firstRow__8BhAg",lastColumn:"GridItem_lastColumn__320FC",droppable:"GridItem_droppable__yTq2v"}},23:function(e,t,n){e.exports={element:"Forms_element__3Ktu0",label:"Forms_label__9aoLd",input:"Forms_input__34n01"}},24:function(e,t,n){e.exports={container:"App_container__7_OSo",field:"App_field__1Za-d",tokenPanel:"App_tokenPanel__1Y1io"}},30:function(e,t,n){e.exports={circle:"DraggableToken_circle__2e89C",dragging:"DraggableToken_dragging__3643i"}},33:function(e,t,n){e.exports={field:"Field_field__1PltA",gridWrapper:"Field_gridWrapper__oluTN"}},34:function(e,t,n){e.exports={container:"PanelCategory_container__2ywKt",title:"PanelCategory_title__2RLOE"}},38:function(e,t,n){e.exports={layer:"CustomDragLayer_layer__3Oi1J"}},39:function(e,t,n){e.exports={grid:"Grid_grid__5dSy0"}},40:function(e,t,n){e.exports={container:"PanelContainer_container__12MNC"}},41:function(e,t,n){e.exports={title:"Panel_title__2jCxg"}},52:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),c=n(17),i=n.n(c),a=n(3),l=n(59),s=n(28),u=n(8),d=n(58),b=n(5),f=n(7),j=n.n(f),m=n(22),h=n.n(m),p=n(11),O=n.n(p),x=n(1),v=Object.freeze({north:"north",south:"south",west:"west",east:"east"}),_="#000000",g="#FFFFFF";function k(e){var t=e.id,n=e.size,o=e.color,c=e.symbol,i=e.direction,a=e.onTokenClick,l=e.onDirectionClick,s=e.selected,u=e.circleRef,d=e.containerClassName,f=e.circleClassName,m=function(e,t){return Object(r.useCallback)((function(n){t&&(n.stopPropagation(),t(e))}),[e,t])}(t,a),p=C(v.north,t,l),k=C(v.south,t,l),D=C(v.west,t,l),N=C(v.east,t,l),I=function(e){var t=h.a.contrast(_,e)>=h.a.contrast(g,e);return{backgroundColor:e,borderColor:h()(e).darken(2).saturate(2).hex(),textColor:t?_:g}}(o),W=function(e){return{width:e+"px",height:e+"px"}}(n),F=function(e){return{backgroundColor:e.backgroundColor,borderColor:e.borderColor,color:e.textColor}}(I),z=function(e,t){var n=w(e);return{top:0,left:T(e),borderLeftWidth:n,borderRightWidth:n,borderBottomWidth:n,borderBottomColor:t.borderColor}}(n,I),E=function(e,t){var n=w(e);return{bottom:0,left:T(e),borderLeftWidth:n,borderRightWidth:n,borderTopWidth:n,borderTopColor:t.borderColor}}(n,I),S=function(e,t){var n=w(e);return{top:T(e),left:0,borderTopWidth:n,borderBottomWidth:n,borderRightWidth:n,borderRightColor:t.borderColor}}(n,I),P=function(e,t){var n=w(e);return{top:T(e),right:0,borderTopWidth:n,borderBottomWidth:n,borderLeftWidth:n,borderLeftColor:t.borderColor}}(n,I),R=O()(j.a.container,Object(b.a)({},j.a.selected,s),d),M=O()(j.a.circle,f);return Object(x.jsxs)("div",{className:R,style:W,children:[Object(x.jsx)("div",{ref:u,onClick:m,className:M,style:F,children:Object(x.jsx)("span",{children:c})}),y(v.north,p,z,j.a.north,j.a,i),y(v.south,k,E,j.a.south,j.a,i),y(v.west,D,S,j.a.west,j.a,i),y(v.east,N,P,j.a.east,j.a,i)]})}function y(e,t,n,r,o,c){var i=e===c;return Object(x.jsx)("div",{onClick:t,className:O()(r,o.direction,Object(b.a)({},o.current,i)),style:n})}function C(e,t,n){return Object(r.useCallback)((function(r){n&&(r.stopPropagation(),n(t,e))}),[e,t,n])}function w(e){return e/10*3+"px"}function T(e){return e/5+"px"}var D=n(10),N=n(60),I=n(35),W=n(30),F=n.n(W),z="Token";function E(e){var t=e.id,n=e.size,o=e.color,c=e.symbol,i=e.direction,a=Object(N.a)((function(){return{type:z,item:{id:t,size:n,color:o,symbol:c,direction:i},collect:function(e){return{isDragging:!!e.isDragging()}}}}),[t,n,o,c,i]),l=Object(D.a)(a,3),s=l[0].isDragging,d=l[1],f=l[2];Object(r.useEffect)((function(){f(Object(I.a)(),{captureDraggingState:!0})}));var j=O()(Object(b.a)({},F.a.dragging,s));return Object(x.jsx)(k,Object(u.a)(Object(u.a)({},e),{},{circleRef:d,containerClassName:j,circleClassName:F.a.circle}))}var S=n(42);function P(e){e.offset;var t=Object(S.a)(e,["offset"]),n=function(e){var t=e.offset,n=e.size/20*3,r=t.x-n,o=t.y-n;return{transform:"translate(".concat(r,"px, ").concat(o,"px)")}}(e);return Object(x.jsx)("div",{style:n,children:Object(x.jsx)(k,Object(u.a)({},t))})}var R=n(38),M=n.n(R);function B(){var e=Object(d.a)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset(),isDragging:e.isDragging()}})),t=e.item,n=e.itemType,r=e.currentOffset;if(!e.isDragging||!r)return null;var o=function(e,t,n){switch(t){case z:return Object(x.jsx)(P,Object(u.a)({offset:n},e));default:return null}}(t,n,r);return o?Object(x.jsx)("div",{className:M.a.layer,children:o}):null}function L(e){var t=e.children;return Object(x.jsxs)(l.a,{backend:s.a,children:[Object(x.jsx)(B,{}),t]})}var A=n(39),G=n.n(A),J=n(61),K=n(16),X=n.n(K),q=n(12),H="field";function Y(e){return Math.max(1,Math.min(100,e))}var V=Object(q.b)({name:H,initialState:{columns:1,rows:1,zoom:1,cells:[[null]],nextTokenId:0,tokenIds:[],tokens:{},selectedTokenId:null},reducers:{setDimensions:function(e,t){var n=Y(t.payload.columns),r=Y(t.payload.rows),o=n-e.columns;o>0?function(e,t){for(var n=e.columns,r=e.columns+t,o=n;o<r;o++){e.cells[o]=[];for(var c=0;c<e.rows;c++)e.cells[o][c]=null}}(e,o):o<0&&function(e,t){for(var n=e.columns-t,r=e.columns,o=n;o<r;o++)for(var c=function(t){var n=e.cells[o][t];n&&(e.tokenIds=e.tokenIds.filter((function(e){return e!==n})),delete e.tokens[n])},i=0;i<e.rows;i++)c(i);e.cells.splice(n,t)}(e,Math.abs(o)),e.columns=n;var c=r-e.rows;c>0?function(e,t){for(var n=e.rows,r=e.rows+t,o=0;o<e.columns;o++)for(var c=n;c<r;c++)e.cells[o][c]=null}(e,c):c<0&&function(e,t){for(var n=e.rows-t,r=e.rows,o=0;o<e.columns;o++){for(var c=function(t){var n=e.cells[o][t];n&&(e.tokenIds=e.tokenIds.filter((function(e){return e!==n})),delete e.tokens[n])},i=n;i<r;i++)c(i);e.cells[o].splice(n,t)}}(e,Math.abs(c)),e.rows=r},createToken:function(e,t){var n=Object(u.a)({id:e.nextTokenId+++""},t.payload);e.tokenIds.push(n.id),e.tokens[n.id]=n,e.cells[n.x][n.y]=n.id},moveToken:function(e,t){var n=t.payload,r=n.id,o=n.x,c=n.y,i=e.tokens[r];e.cells[i.x][i.y]=null,e.cells[o][c]=i.id,i.x=o,i.y=c},selectToken:function(e,t){var n=t.payload.id;e.selectedTokenId=n},unselectToken:function(e){e.selectedTokenId=null},toggleDirection:function(e,t){var n=t.payload,r=n.id,o=n.direction,c=e.tokens[r];c.direction!==o?c.direction=o:c.direction=null},setTokenSymbol:function(e,t){var n=t.payload,r=n.id,o=n.symbol;e.tokens[r].symbol=o}}});var Z=function(e){return e.field.columns},$=function(e){return e.field.rows},Q=function(e){return e.field.zoom},U=function(e){return e.field.tokenIds},ee=function(e){return e.field.selectedTokenId},te=V.actions,ne=te.setDimensions,re=te.createToken,oe=te.moveToken,ce=te.selectToken,ie=te.unselectToken,ae=te.toggleDirection;te.setTokenSymbol;function le(e){var t,n=e.x,r=e.y,o=e.columns,c=e.size,i=function(e,t){var n=Object(a.b)(),r=Object(a.c)((function(n){return function(e,t,n){return null===e.field.cells[t][n]}(n,e,t)}));return Object(J.a)((function(){return{accept:z,canDrop:function(){return r},drop:function(r){return function(e,t,n,r){var o=e.id;r(oe({id:o,x:t,y:n}))}(r,e,t,n)},collect:function(e){return{isOver:!!e.isOver(),canDrop:!!e.canDrop()}}}}),[e,t,r,n])}(n,r),l=Object(D.a)(i,2),s=l[0],u=s.isOver,d=s.canDrop,f=l[1],j=O()(X.a.cell,(t={},Object(b.a)(t,X.a.firstRow,0===r),Object(b.a)(t,X.a.lastColumn,n===o-1),Object(b.a)(t,X.a.droppable,u&&d),t)),m=function(e){var t=e+"px";return{width:t,height:t,lineHeight:t}}(c);return Object(x.jsx)("div",{ref:f,className:j,style:m})}function se(e){var t=e.columns,n=e.rows,r=e.cellSize,o=e.children,c=function(e,t,n){return{width:e*n+"px",height:t*n+"px"}}(t,n,r),i=function(e,t,n){for(var r=[],o=0;o<t;o++)for(var c=0;c<e;c++)r.push(Object(x.jsx)(le,{x:c,y:o,columns:e,size:n},c+";"+o));return r}(t,n,r);return Object(x.jsxs)("div",{className:G.a.grid,style:c,children:[i,o]})}function ue(e){var t=e.id,n=e.size,o=Object(a.c)((function(e){return function(e,t){return e.field.tokens[t]}(e,t)})),c=o.color,i=o.symbol,l=o.direction,s=o.x,u=o.y,d=Object(a.c)((function(e){return function(e,t){return e.field.selectedTokenId===t}(e,t)})),b=Object(a.b)(),f=Object(r.useCallback)((function(e){b(d?ie():ce({id:e}))}),[b,d]),j=Object(r.useCallback)((function(e,t){b(d?ae({id:e,direction:t}):ce({id:e}))}),[b,d]),m=function(e,t,n){return{position:"absolute",left:e*n+"px",top:t*n+"px",width:n+"px",height:n+"px"}}(s,u,n);return Object(x.jsx)("div",{style:m,children:Object(x.jsx)(E,{id:t,size:n,color:c,symbol:i,direction:l,onTokenClick:f,onDirectionClick:j,selected:d})})}var de=n(33),be=n.n(de);function fe(){var e=Object(a.c)(Z),t=Object(a.c)($),n=Object(a.c)(Q),r=Object(a.c)(U),o=function(e){return 100*e}(n),c=function(e,t){return e.map((function(e){return Object(x.jsx)(ue,{id:e,size:t},e)}))}(r,o),i=Object(a.b)();return Object(x.jsx)("div",{className:be.a.field,children:Object(x.jsx)("div",{className:be.a.gridWrapper,onClick:function(){return i(ie())},children:Object(x.jsx)(se,{columns:e,rows:t,cellSize:o,children:c})})})}var je=n(40),me=n.n(je),he=n(23),pe=n.n(he);function Oe(e){var t=e.label,n=e.min,o=e.max,c=e.value,i=e.onChange,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object(r.useState)(e),o=Object(D.a)(n,2),c=o[0],i=o[1];return Object(r.useEffect)((function(){return i(e)}),[e]),[{value:c,onChange:function(e){i(e.target.value),t&&t(e.target.value)}},c,i]}(c,Object(r.useCallback)((function(e){var t=parseInt(e);!isNaN(t)&&n<=t&&t<=o&&i(t)}),[n,o,i])),l=Object(D.a)(a,1)[0];return Object(x.jsxs)("div",{className:pe.a.element,children:[Object(x.jsx)("label",{className:pe.a.label,children:t}),Object(x.jsx)("input",Object(u.a)({className:pe.a.input,type:"number",min:n,max:o},l))]})}var xe=n(41),ve=n.n(xe);function _e(e){var t=e.title,n=e.children;return Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{className:ve.a.title,children:t}),n]})}var ge=n(34),ke=n.n(ge);function ye(e){var t=e.title,n=e.children;return Object(x.jsxs)("div",{className:ke.a.container,children:[t?Object(x.jsx)("h2",{className:ke.a.title,children:t}):null,n]})}function Ce(){return Object(x.jsx)(_e,{title:"Field",children:Object(x.jsx)(we,{})})}function we(){var e=Object(a.b)(),t=Object(a.c)(Z),n=Object(a.c)($),o=Object(r.useCallback)((function(t){e(ne({columns:t,rows:n}))}),[e,n]),c=Object(r.useCallback)((function(n){e(ne({columns:t,rows:n}))}),[e,t]);return Object(x.jsxs)(ye,{title:"Dimensions",children:[Object(x.jsx)(Oe,{label:"Columns",min:1,max:100,value:t,onChange:o}),Object(x.jsx)(Oe,{label:"Rows",min:1,max:100,value:n,onChange:c})]})}function Te(e){var t=e.id;return Object(x.jsx)(_e,{title:"Token",children:Object(x.jsxs)(ye,{children:["Debug: ",t]})})}function De(){var e=Object(a.c)(ee);return Object(x.jsx)("div",{className:me.a.container,children:e?Object(x.jsx)(Te,{id:e}):Object(x.jsx)(Ce,{})})}var Ne=Object(q.b)({name:"panel",initialState:{},reducers:{}}),Ie=n(24),We=n.n(Ie);var Fe=function(){return Object(x.jsxs)("div",{className:We.a.container,children:[Object(x.jsx)(fe,{className:We.a.field}),Object(x.jsx)(De,{className:We.a.tokenPanel})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(52);var ze,Ee=Object(q.a)({reducer:(ze={},Object(b.a)(ze,V.name,V.reducer),Object(b.a)(ze,Ne.name,Ne.reducer),ze)});i.a.render(Object(x.jsx)(o.a.StrictMode,{children:Object(x.jsx)(a.a,{store:Ee,children:Object(x.jsx)(L,{children:Object(x.jsx)(Fe,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})),Ee.dispatch(ne({columns:5,rows:5})),Ee.dispatch(re({color:"#D5E8D4",symbol:"T",direction:v.west,x:4,y:4})),Ee.dispatch(re({color:"#D5E8D4",symbol:"E",direction:v.south,x:1,y:0})),Ee.dispatch(re({color:"#F8CECC",symbol:"M",direction:v.south,x:1,y:1})),Ee.dispatch(re({color:"#F8CECC",symbol:"M",direction:v.south,x:2,y:2})),Ee.dispatch(re({color:"#D5E8D4",symbol:"Y",direction:v.west,x:3,y:2})),Ee.dispatch(re({color:"#D5E8D4",symbol:"K",direction:v.north,x:1,y:3})),Ee.dispatch(re({color:"#647687",symbol:"",direction:null,x:4,y:0})),Ee.dispatch(re({color:"#647687",symbol:"",direction:null,x:3,y:1})),Ee.dispatch(re({color:"#647687",symbol:"",direction:null,x:0,y:2})),Ee.dispatch(re({color:"#647687",symbol:"",direction:null,x:1,y:4})),Ee.dispatch(oe({id:"0",x:3,y:4}))},7:function(e,t,n){e.exports={container:"Token_container__C3-vl",circle:"Token_circle__36Ifi",direction:"Token_direction__2emyN",selected:"Token_selected__1GyAX",current:"Token_current__P_JN5",north:"Token_north__2V4ME",south:"Token_south__2HjCE",west:"Token_west__2iXXe",east:"Token_east__Eu9f2"}}},[[53,1,2]]]);
//# sourceMappingURL=main.5e46f7a1.chunk.js.map