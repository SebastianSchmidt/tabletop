(this.webpackJsonptabletop=this.webpackJsonptabletop||[]).push([[0],{10:function(e,t,n){e.exports={container:"Token_container__C3-vl",circle:"Token_circle__36Ifi",direction:"Token_direction__2emyN",selected:"Token_selected__1GyAX",current:"Token_current__P_JN5",north:"Token_north__2V4ME",south:"Token_south__2HjCE",west:"Token_west__2iXXe",east:"Token_east__Eu9f2"}},18:function(e,t,n){e.exports={cell:"GridItem_cell__hsSTq",firstRow:"GridItem_firstRow__8BhAg",lastColumn:"GridItem_lastColumn__320FC",droppable:"GridItem_droppable__yTq2v"}},24:function(e,t,n){e.exports={container:"App_container__7_OSo",field:"App_field__1Za-d",tokenPanel:"App_tokenPanel__1Y1io"}},29:function(e,t,n){e.exports={circle:"DraggableToken_circle__2e89C",dragging:"DraggableToken_dragging__3643i"}},32:function(e,t,n){e.exports={field:"Field_field__1PltA",gridWrapper:"Field_gridWrapper__oluTN"}},33:function(e,t,n){e.exports={container:"PanelCategory_container__2ywKt",title:"PanelCategory_title__2RLOE"}},36:function(e,t,n){e.exports={layer:"CustomDragLayer_layer__3Oi1J"}},37:function(e,t,n){e.exports={grid:"Grid_grid__5dSy0"}},38:function(e,t,n){e.exports={container:"PanelContainer_container__12MNC"}},40:function(e,t,n){e.exports={title:"Panel_title__2jCxg"}},53:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),c=n(19),l=n.n(c),i=n(3),a=n(60),s=n(41),u=n(4),d=n(59),b=n(6),f=n(14),j=n.n(f),h=n(12),O=n.n(h),v=n(10),m=n.n(v),p="#000000",x="#FFFFFF";function g(e){return j.a.contrast(p,e)>=j.a.contrast(x,e)?p:x}var k=n(1),_=Object.freeze({north:"north",south:"south",west:"west",east:"east"});function y(e){var t=e.id,n=e.size,o=e.color,c=e.symbol,l=e.direction,i=e.onTokenClick,a=e.onDirectionClick,s=e.selected,u=e.circleRef,d=e.containerClassName,f=e.circleClassName,h=function(e,t){return Object(r.useCallback)((function(n){t&&(n.stopPropagation(),t(e))}),[e,t])}(t,i),v=T(_.north,t,a),p=T(_.south,t,a),x=T(_.west,t,a),y=T(_.east,t,a),N=function(e){var t=j()(e).get("lch.c")>10?2:0;return{backgroundColor:e,borderColor:j()(e).darken(2).saturate(t).hex(),textColor:g(e)}}(o),A=function(e){return{width:e+"px",height:e+"px"}}(n),I=function(e){return{backgroundColor:e.backgroundColor,borderColor:e.borderColor,color:e.textColor}}(N),E=function(e,t){var n=w(e);return{top:0,left:D(e),borderLeftWidth:n,borderRightWidth:n,borderBottomWidth:n,borderBottomColor:t.borderColor}}(n,N),F=function(e,t){var n=w(e);return{bottom:0,left:D(e),borderLeftWidth:n,borderRightWidth:n,borderTopWidth:n,borderTopColor:t.borderColor}}(n,N),W=function(e,t){var n=w(e);return{top:D(e),left:0,borderTopWidth:n,borderBottomWidth:n,borderRightWidth:n,borderRightColor:t.borderColor}}(n,N),S=function(e,t){var n=w(e);return{top:D(e),right:0,borderTopWidth:n,borderBottomWidth:n,borderLeftWidth:n,borderLeftColor:t.borderColor}}(n,N),z=O()(m.a.container,Object(b.a)({},m.a.selected,s),d),R=O()(m.a.circle,f);return Object(k.jsxs)("div",{className:z,style:A,children:[Object(k.jsx)("div",{ref:u,onClick:h,className:R,style:I,children:Object(k.jsx)("span",{children:c})}),C(_.north,v,E,m.a.north,m.a,l),C(_.south,p,F,m.a.south,m.a,l),C(_.west,x,W,m.a.west,m.a,l),C(_.east,y,S,m.a.east,m.a,l)]})}function C(e,t,n,r,o,c){var l=e===c;return Object(k.jsx)("div",{onClick:t,className:O()(r,o.direction,Object(b.a)({},o.current,l)),style:n})}function T(e,t,n){return Object(r.useCallback)((function(r){n&&(r.stopPropagation(),n(t,e))}),[e,t,n])}function w(e){return e/10*3+"px"}function D(e){return e/5+"px"}var N=n(9),A=n(61),I=n(29),E=n.n(I),F="Token";function W(e){var t=e.id,n=e.size,o=e.color,c=e.symbol,l=e.direction,i=Object(A.a)((function(){return{type:F,item:{id:t,size:n,color:o,symbol:c,direction:l},collect:function(e){return{isDragging:!!e.isDragging()}}}}),[t,n,o,c,l]),a=Object(N.a)(i,3),s=a[0].isDragging,d=a[1];!function(e){Object(r.useEffect)((function(){e(L,{captureDraggingState:!0})}),[e])}(a[2]);var f=O()(Object(b.a)({},E.a.dragging,s));return Object(k.jsx)(y,Object(u.a)(Object(u.a)({},e),{},{circleRef:d,containerClassName:f,circleClassName:E.a.circle}))}var S=n(42);function z(e){e.offset;var t=Object(S.a)(e,["offset"]),n=function(e){var t=e.offset,n=e.size/20*3,r=t.x-n,o=t.y-n;return{transform:"translate(".concat(r,"px, ").concat(o,"px)")}}(e);return Object(k.jsx)("div",{style:n,children:Object(k.jsx)(y,Object(u.a)({},t))})}var R=n(36),P=n.n(R);function B(){var e=Object(d.a)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset(),isDragging:e.isDragging()}})),t=e.item,n=e.itemType,r=e.currentOffset;if(!e.isDragging||!r)return null;var o=function(e,t,n){switch(t){case F:return Object(k.jsx)(z,Object(u.a)({offset:n},e));default:return null}}(t,n,r);return o?Object(k.jsx)("div",{className:P.a.layer,children:o}):null}function M(e){var t=e.children;return Object(k.jsxs)(a.a,{backend:s.a,children:[Object(k.jsx)(B,{}),t]})}var L=new Image;L.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";var G=n(37),J=n.n(G),K=n(62),H=n(18),X=n.n(H),Y=n(13),q="field";function Q(e){return Math.max(1,Math.min(100,e))}var V=Object(Y.b)({name:q,initialState:{columns:1,rows:1,zoom:1,cells:[[null]],nextTokenId:0,tokenIds:[],tokens:{},selectedTokenId:null},reducers:{setDimensions:function(e,t){var n=Q(t.payload.columns),r=Q(t.payload.rows),o=n-e.columns;o>0?function(e,t){for(var n=e.columns,r=e.columns+t,o=n;o<r;o++){e.cells[o]=[];for(var c=0;c<e.rows;c++)e.cells[o][c]=null}}(e,o):o<0&&function(e,t){for(var n=e.columns-t,r=e.columns,o=n;o<r;o++)for(var c=function(t){var n=e.cells[o][t];n&&(e.tokenIds=e.tokenIds.filter((function(e){return e!==n})),delete e.tokens[n])},l=0;l<e.rows;l++)c(l);e.cells.splice(n,t)}(e,Math.abs(o)),e.columns=n;var c=r-e.rows;c>0?function(e,t){for(var n=e.rows,r=e.rows+t,o=0;o<e.columns;o++)for(var c=n;c<r;c++)e.cells[o][c]=null}(e,c):c<0&&function(e,t){for(var n=e.rows-t,r=e.rows,o=0;o<e.columns;o++){for(var c=function(t){var n=e.cells[o][t];n&&(e.tokenIds=e.tokenIds.filter((function(e){return e!==n})),delete e.tokens[n])},l=n;l<r;l++)c(l);e.cells[o].splice(n,t)}}(e,Math.abs(c)),e.rows=r},createToken:function(e,t){var n=Object(u.a)({id:e.nextTokenId+++""},t.payload);e.tokenIds.push(n.id),e.tokens[n.id]=n,e.cells[n.x][n.y]=n.id},moveToken:function(e,t){var n=t.payload,r=n.id,o=n.x,c=n.y,l=e.tokens[r];e.cells[l.x][l.y]=null,e.cells[o][c]=l.id,l.x=o,l.y=c},selectToken:function(e,t){var n=t.payload.id;e.selectedTokenId=n},unselectToken:function(e){e.selectedTokenId=null},setTokenDirection:function(e,t){var n=t.payload,r=n.id,o=n.direction;e.tokens[r].direction=o},toggleTokenDirection:function(e,t){var n=t.payload,r=n.id,o=n.direction,c=e.tokens[r];c.direction!==o?c.direction=o:c.direction=null},setTokenSymbol:function(e,t){var n=t.payload,r=n.id,o=n.symbol;e.tokens[r].symbol=o},setTokenColor:function(e,t){var n=t.payload,r=n.id,o=n.color;e.tokens[r].color=o}}});var Z=function(e){return e.field.columns},$=function(e){return e.field.rows},U=function(e){return e.field.zoom},ee=function(e){return e.field.tokenIds},te=function(e,t){return e.field.tokens[t]},ne=function(e){return e.field.selectedTokenId},re=V.actions,oe=re.setDimensions,ce=re.createToken,le=re.moveToken,ie=re.selectToken,ae=re.unselectToken,se=re.setTokenDirection,ue=re.toggleTokenDirection,de=re.setTokenSymbol,be=re.setTokenColor;function fe(e){var t,n=e.x,r=e.y,o=e.columns,c=e.size,l=function(e,t){var n=Object(i.b)(),r=Object(i.c)((function(n){return function(e,t,n){return null===e.field.cells[t][n]}(n,e,t)}));return Object(K.a)((function(){return{accept:F,canDrop:function(){return r},drop:function(r){return function(e,t,n,r){var o=e.id;r(le({id:o,x:t,y:n}))}(r,e,t,n)},collect:function(e){return{isOver:!!e.isOver(),canDrop:!!e.canDrop()}}}}),[e,t,r,n])}(n,r),a=Object(N.a)(l,2),s=a[0],u=s.isOver,d=s.canDrop,f=a[1],j=O()(X.a.cell,(t={},Object(b.a)(t,X.a.firstRow,0===r),Object(b.a)(t,X.a.lastColumn,n===o-1),Object(b.a)(t,X.a.droppable,u&&d),t)),h=function(e){var t=e+"px";return{width:t,height:t,lineHeight:t}}(c);return Object(k.jsx)("div",{ref:f,className:j,style:h})}function je(e){var t=e.columns,n=e.rows,r=e.cellSize,o=e.children,c=function(e,t,n){return{width:e*n+"px",height:t*n+"px"}}(t,n,r),l=function(e,t,n){for(var r=[],o=0;o<t;o++)for(var c=0;c<e;c++)r.push(Object(k.jsx)(fe,{x:c,y:o,columns:e,size:n},c+";"+o));return r}(t,n,r);return Object(k.jsxs)("div",{className:J.a.grid,style:c,children:[l,o]})}function he(e){var t=e.id,n=e.size,o=Object(i.c)((function(e){return te(e,t)})),c=o.color,l=o.symbol,a=o.direction,s=o.x,u=o.y,d=Object(i.c)((function(e){return function(e,t){return e.field.selectedTokenId===t}(e,t)})),b=Object(i.b)(),f=Object(r.useCallback)((function(e){b(d?ae():ie({id:e}))}),[b,d]),j=Object(r.useCallback)((function(e,t){b(d?ue({id:e,direction:t}):ie({id:e}))}),[b,d]),h=function(e,t,n){return{position:"absolute",left:e*n+"px",top:t*n+"px",width:n+"px",height:n+"px"}}(s,u,n);return Object(k.jsx)("div",{style:h,children:Object(k.jsx)(W,{id:t,size:n,color:c,symbol:l,direction:a,onTokenClick:f,onDirectionClick:j,selected:d})})}var Oe=n(32),ve=n.n(Oe);function me(){var e=Object(i.c)(Z),t=Object(i.c)($),n=Object(i.c)(U),r=Object(i.c)(ee),o=function(e){return 100*e}(n),c=function(e,t){return e.map((function(e){return Object(k.jsx)(he,{id:e,size:t},e)}))}(r,o),l=Object(i.b)();return Object(k.jsx)("div",{className:ve.a.field,children:Object(k.jsx)("div",{className:ve.a.gridWrapper,onClick:function(){return l(ae())},children:Object(k.jsx)(je,{columns:e,rows:t,cellSize:o,children:c})})})}var pe=n(38),xe=n.n(pe),ge=n(39),ke=n.n(ge),_e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object(r.useState)(e),o=Object(N.a)(n,2),c=o[0],l=o[1];Object(r.useEffect)((function(){return l(e)}),[e]);var i={value:c,onChange:function(e){l(e.target.value),t&&t(e.target.value)}};return[i,c,l]},ye=n(8),Ce=n.n(ye);function Te(e){var t=e.label,n=e.max,o=e.value,c=e.onChange,l=e.onFocus,i=Object(r.useCallback)((function(e){e.length<=n&&c(e)}),[n,c]),a=_e(o,i),s=Object(N.a)(a,1)[0];return Object(k.jsxs)("div",{className:Ce.a.element,children:[Object(k.jsx)("label",{className:Ce.a.label,children:t}),Object(k.jsx)("input",Object(u.a)({className:Ce.a.input,type:"text",maxLength:n,onFocus:l},s))]})}function we(e){var t=e.value,n=e.label,o=e.onChange,c=Object(r.useCallback)((function(e){o&&o(e)}),[o]),l=_e(t,c),i=Object(N.a)(l,2),a=i[0],s=i[1],d=Object(r.useMemo)((function(){return e.options.map(De)}),[e.options]),b=Object(r.useMemo)((function(){return function(e,t){var n=t.find((function(t){return t.value===e}));return n?n.style:null}(s,d)}),[s,d]);return Object(k.jsxs)("div",{className:Ce.a.element,children:[n?Object(k.jsx)("label",{className:Ce.a.label,children:n}):null,Object(k.jsx)("select",Object(u.a)(Object(u.a)({className:Ce.a.select,style:b},a),{},{children:d.map(Ne)}))]})}function De(e){var t=null,n=null,r=null;return"object"===typeof e&&null!==e?(t=e.value,n=e.label,r=e.style):t=e+"",null!==n&&void 0!==n||(n=t),{value:t,label:n,style:r}}function Ne(e){var t=e.value,n=e.label,r=e.style;return Object(k.jsx)("option",{className:Ce.a.option,value:t,style:r,children:n},t)}var Ae=n(40),Ie=n.n(Ae);function Ee(e){var t=e.title,n=e.children;return Object(k.jsxs)("div",{children:[Object(k.jsx)("h1",{className:Ie.a.title,children:t}),n]})}var Fe=n(33),We=n.n(Fe);function Se(e){var t=e.title,n=e.children;return Object(k.jsxs)("div",{className:We.a.container,children:[t?Object(k.jsx)("h2",{className:We.a.title,children:t}):null,n]})}function ze(){return Object(k.jsx)(Ee,{title:"Field",children:Object(k.jsx)(Re,{})})}function Re(){var e=Object(i.b)(),t=Object(i.c)(Z),n=Object(i.c)($),o=Object(r.useCallback)((function(t){e(oe({columns:t,rows:n}))}),[e,n]),c=Object(r.useCallback)((function(n){e(oe({columns:t,rows:n}))}),[e,t]);return Object(k.jsxs)(Se,{children:[Object(k.jsx)(Pe,{label:"Columns",value:t,onChange:o}),Object(k.jsx)(Pe,{label:"Rows",value:n,onChange:c})]})}function Pe(e){var t=e.label,n=e.value,r=e.onChange,o=ke()(1,101);return Object(k.jsx)(we,{label:t,options:o,value:n,onChange:r})}function Be(e){var t=e.id,n=Object(i.c)((function(e){var n=te(e,t).symbol;return null!==n?n:""})),o=Object(i.b)(),c=Object(r.useCallback)((function(e){o(de({id:t,symbol:e}))}),[o,t]);return Object(k.jsx)(Te,{label:"Symbol",max:"1",value:n,onChange:c,onFocus:function(e){return e.target.select()}})}var Me=[Le("Yellow","#fff2cc"),Le("Red","#f8cecc"),Le("Purple","#d1c4e9"),Le("Blue","#bbdefb"),Le("Green","#d5e8d4"),Le("Grey","#cfd8dc"),Le("Dark yellow","#fdd835"),Le("Dark red","#c62828"),Le("Dark purple","#673ab7"),Le("Dark blue","#1976d2"),Le("Dark green","#2e7d32"),Le("Dark gray","#647687")];function Le(e,t){return{label:e,value:Ge(t),style:{backgroundColor:t,color:g(t)}}}function Ge(e){return e?e.toLowerCase():null}function Je(e){var t=e.id,n=Object(i.c)((function(e){return Ge(te(e,t).color)})),o=Object(i.b)(),c=Object(r.useCallback)((function(e){o(be({id:t,color:e}))}),[o,t]);return Object(k.jsx)(we,{label:"Color",options:Me,value:n,onChange:c})}var Ke=[{label:"\ud83e\udc45 North",value:_.north},{label:"\ud83e\udc46 East",value:_.east},{label:"\ud83e\udc47 South",value:_.south},{label:"\ud83e\udc44 West",value:_.west},{label:"None",value:""}];function He(e){var t=e.id,n=Object(i.c)((function(e){var n=te(e,t).direction;return null!==n?n:""})),o=Object(i.b)(),c=Object(r.useCallback)((function(e){o(se({id:t,direction:""!==e?e:null}))}),[o,t]);return Object(k.jsx)(we,{label:"Direction",options:Ke,value:n,onChange:c})}function Xe(e){var t=e.id;return Object(k.jsx)(Ee,{title:"Token",children:Object(k.jsxs)(Se,{children:[Object(k.jsx)(Be,{id:t}),Object(k.jsx)(Je,{id:t}),Object(k.jsx)(He,{id:t})]})})}function Ye(){var e=Object(i.c)(ne);return Object(k.jsx)("div",{className:xe.a.container,children:e?Object(k.jsx)(Xe,{id:e}):Object(k.jsx)(ze,{})})}var qe=Object(Y.b)({name:"panel",initialState:{},reducers:{}}),Qe=n(24),Ve=n.n(Qe);var Ze=function(){return Object(k.jsxs)("div",{className:Ve.a.container,children:[Object(k.jsx)(me,{className:Ve.a.field}),Object(k.jsx)(Ye,{className:Ve.a.tokenPanel})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(53);var $e,Ue=Object(Y.a)({reducer:($e={},Object(b.a)($e,V.name,V.reducer),Object(b.a)($e,qe.name,qe.reducer),$e)});l.a.render(Object(k.jsx)(o.a.StrictMode,{children:Object(k.jsx)(i.a,{store:Ue,children:Object(k.jsx)(M,{children:Object(k.jsx)(Ze,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})),Ue.dispatch(oe({columns:5,rows:5})),Ue.dispatch(ce({color:"#D5E8D4",symbol:"T",direction:_.west,x:3,y:4})),Ue.dispatch(ce({color:"#D5E8D4",symbol:"E",direction:_.south,x:1,y:0})),Ue.dispatch(ce({color:"#F8CECC",symbol:"M",direction:_.south,x:1,y:1})),Ue.dispatch(ce({color:"#F8CECC",symbol:"M",direction:_.south,x:2,y:2})),Ue.dispatch(ce({color:"#D5E8D4",symbol:"Y",direction:_.west,x:3,y:2})),Ue.dispatch(ce({color:"#D5E8D4",symbol:"K",direction:_.north,x:1,y:3})),Ue.dispatch(ce({color:"#647687",symbol:"",direction:null,x:4,y:0})),Ue.dispatch(ce({color:"#647687",symbol:"",direction:null,x:3,y:1})),Ue.dispatch(ce({color:"#647687",symbol:"",direction:null,x:0,y:2})),Ue.dispatch(ce({color:"#647687",symbol:"",direction:null,x:1,y:4}))},8:function(e,t,n){e.exports={element:"Forms_element__3Ktu0",label:"Forms_label__9aoLd",input:"Forms_input__34n01",select:"Forms_select__32bDl"}}},[[54,1,2]]]);
//# sourceMappingURL=main.8a55a427.chunk.js.map