(this.webpackJsonptabletop=this.webpackJsonptabletop||[]).push([[0],{12:function(e,o,t){e.exports={field:"Field_field__1PltA",gridWrapper:"Field_gridWrapper__oluTN"}},19:function(e,o,t){},25:function(e,o,t){"use strict";t.r(o);var n=t(0),r=t.n(n),i=t(6),c=t.n(i),l=(t(19),t(2)),s=t(5),d=t.n(s),a=t(1);function u(e){var o=e.columns,t=e.rows,n=e.cellSize,r=e.children,i=function(e,o,t){return{width:e*t+"px",height:o*t+"px"}}(o,t,n),c=function(e,o,t){for(var n=function(e){var o=e+"px";return{width:o,height:o,lineHeight:o}}(t),r=[],i=0;i<o;i++)for(var c=0;c<e;c++){var l=d.a.cell+(0===i?" "+d.a.firstRow:"")+(c===e-1?" "+d.a.lastColumn:"");r.push(Object(a.jsx)("div",{className:l,style:n},c+";"+i))}return r}(o,t,n);return Object(a.jsxs)("div",{className:d.a.grid,style:i,children:[c,r]})}var b=t(4),h=t(3),f=t.n(h),p=t(13),j=t.n(p),k=t(11),m=t.n(k),x=Object.freeze({north:"north",south:"south",west:"west",east:"east"});function _(e){var o=e.id,t=e.size,r=e.color,i=e.symbol,c=e.direction,l=e.onTokenClick,s=e.onDirectionClick,d=e.selected,u=function(e){return{backgroundColor:e,borderColor:j()(e).darken(2).saturate(2).hex()}}(r),h=function(e){return{width:e+"px",height:e+"px"}}(t),p=function(e){return{backgroundColor:e.backgroundColor,borderColor:e.borderColor}}(u),k=function(e,o){var t=v(e);return{top:0,left:C(e),borderLeftWidth:t,borderRightWidth:t,borderBottomWidth:t,borderBottomColor:o.borderColor}}(t,u),_=function(e,o){var t=v(e);return{bottom:0,left:C(e),borderLeftWidth:t,borderRightWidth:t,borderTopWidth:t,borderTopColor:o.borderColor}}(t,u),T=function(e,o){var t=v(e);return{top:C(e),left:0,borderTopWidth:t,borderBottomWidth:t,borderRightWidth:t,borderRightColor:o.borderColor}}(t,u),w=function(e,o){var t=v(e);return{top:C(e),right:0,borderTopWidth:t,borderBottomWidth:t,borderLeftWidth:t,borderLeftColor:o.borderColor}}(t,u),g=Object(n.useCallback)((function(e){l&&(e.stopPropagation(),l(o))}),[o,l]),W=O(x.north,o,s),D=O(x.south,o,s),E=O(x.west,o,s),I=O(x.east,o,s);return Object(a.jsxs)("div",{className:m()(f.a.container,Object(b.a)({},f.a.selected,d)),style:h,children:[Object(a.jsx)("div",{onClick:g,className:f.a.circle,style:p,children:Object(a.jsx)("span",{children:i})}),y(x.north,W,k,f.a.north,f.a,c),y(x.south,D,_,f.a.south,f.a,c),y(x.west,E,T,f.a.west,f.a,c),y(x.east,I,w,f.a.east,f.a,c)]})}function y(e,o,t,n,r,i){var c=e===i;return Object(a.jsx)("div",{onClick:o,className:m()(n,r.direction,Object(b.a)({},r.current,c)),style:t})}function v(e){return e/10*3+"px"}function C(e){return e/5+"px"}function O(e,o,t){return Object(n.useCallback)((function(n){t&&(n.stopPropagation(),t(o,e))}),[e,o,t])}var T=t(14),w=t(7),g="field",W=Object(w.b)({name:g,initialState:{columns:0,rows:0,zoom:1,cells:[],nextTokenId:0,tokenIds:[],tokens:{},selectedTokenId:null},reducers:{setDimensions:function(e,o){var t=o.payload,n=t.columns,r=t.rows;e.columns=n,e.rows=r;for(var i=0;i<n;i++){e.cells[i]=[];for(var c=0;c<r;c++)e.cells[i][c]=null}},createToken:function(e,o){var t=Object(T.a)({id:e.nextTokenId++},o.payload);e.tokenIds.push(t.id),e.tokens[t.id]=t,e.cells[t.x][t.y]=t.id},moveToken:function(e,o){var t=o.payload,n=t.id,r=t.x,i=t.y,c=e.tokens[n];e.cells[c.x][c.y]=null,e.cells[r][i]=c.id,c.x=r,c.y=i},selectToken:function(e,o){var t=o.payload.id;e.selectedTokenId=t},unselectToken:function(e){e.selectedTokenId=null},toggleDirection:function(e,o){var t=o.payload,n=t.id,r=t.direction,i=e.tokens[n];i.direction!==r?i.direction=r:i.direction=null}}}),D=function(e){return e.field.columns},E=function(e){return e.field.rows},I=function(e){return e.field.zoom},N=function(e){return e.field.tokenIds},z=W.actions,R=z.setDimensions,B=z.createToken,G=z.moveToken,F=z.selectToken,S=z.unselectToken,L=z.toggleDirection;function M(e){var o=e.id,t=e.size,r=Object(l.c)((function(e){return function(e,o){return e.field.tokens[o]}(e,o)})),i=r.color,c=r.symbol,s=r.direction,d=r.x,u=r.y,b=Object(l.c)((function(e){return function(e,o){return e.field.selectedTokenId===o}(e,o)})),h=Object(l.b)(),f=Object(n.useCallback)((function(e){b||h(F({id:e}))}),[h,b]),p=Object(n.useCallback)((function(e,o){h(b?L({id:e,direction:o}):F({id:e}))}),[h,b]),j=function(e,o,t){return{position:"absolute",left:e*t+"px",top:o*t+"px",width:t+"px",height:t+"px"}}(d,u,t);return Object(a.jsx)("div",{style:j,children:Object(a.jsx)(_,{id:o,size:t,color:i,symbol:c,direction:s,onTokenClick:f,onDirectionClick:p,selected:b})})}var P=t(12),J=t.n(P);function X(){var e=Object(l.c)(D),o=Object(l.c)(E),t=Object(l.c)(I),n=Object(l.c)(N),r=function(e){return 100*e}(t),i=function(e,o){return e.map((function(e){return Object(a.jsx)(M,{id:e,size:o},e)}))}(n,r),c=Object(l.b)();return Object(a.jsx)("div",{className:J.a.field,children:Object(a.jsx)("div",{className:J.a.gridWrapper,onClick:function(){return c(S())},children:Object(a.jsx)(u,{columns:e,rows:o,cellSize:r,children:i})})})}var A=function(){return Object(a.jsx)(X,{})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H=Object(w.a)({reducer:Object(b.a)({},W.name,W.reducer)});c.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(l.a,{store:H,children:Object(a.jsx)(A,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})),H.dispatch(R({columns:5,rows:5})),H.dispatch(B({color:"#D5E8D4",symbol:"T",direction:x.west,x:4,y:4})),H.dispatch(B({color:"#D5E8D4",symbol:"E",direction:x.south,x:1,y:0})),H.dispatch(B({color:"#F8CECC",symbol:"M",direction:x.south,x:1,y:1})),H.dispatch(B({color:"#F8CECC",symbol:"M",direction:x.south,x:2,y:2})),H.dispatch(B({color:"#D5E8D4",symbol:"Y",direction:x.west,x:3,y:2})),H.dispatch(B({color:"#D5E8D4",symbol:"K",direction:x.north,x:1,y:3})),H.dispatch(B({color:"#647687",symbol:"",direction:null,x:4,y:0})),H.dispatch(B({color:"#647687",symbol:"",direction:null,x:3,y:1})),H.dispatch(B({color:"#647687",symbol:"",direction:null,x:0,y:2})),H.dispatch(B({color:"#647687",symbol:"",direction:null,x:1,y:4})),H.dispatch(G({id:"0",x:3,y:4}))},3:function(e,o,t){e.exports={container:"Token_container__C3-vl",circle:"Token_circle__36Ifi",direction:"Token_direction__2emyN",selected:"Token_selected__1GyAX",current:"Token_current__P_JN5",north:"Token_north__2V4ME",south:"Token_south__2HjCE",west:"Token_west__2iXXe",east:"Token_east__Eu9f2"}},5:function(e,o,t){e.exports={grid:"Grid_grid__5dSy0",cell:"Grid_cell__2lFos",firstRow:"Grid_firstRow__3GmUT",lastColumn:"Grid_lastColumn__1e561"}}},[[25,1,2]]]);
//# sourceMappingURL=main.1c01dff8.chunk.js.map