{"version":3,"sources":["field/Field.module.css","field/Grid.jsx","token/Token.jsx","field/state.js","field/GridToken.jsx","field/Field.jsx","App.js","serviceWorker.js","store.js","index.js","token/Token.module.css","field/Grid.module.css"],"names":["module","exports","Grid","columns","rows","cellSize","children","style","width","height","generateGridStyle","cells","size","lineHeight","generateCellStyle","y","x","classNames","styles","cell","firstRow","lastColumn","push","className","generateCells","grid","Direction","Object","freeze","north","south","west","east","Token","id","color","symbol","direction","onTokenClick","onDirectionClick","selected","colors","backgroundColor","borderColor","chroma","darken","saturate","hex","generateColors","containerStyle","generateContainerStyle","circleStyle","generateCircleStyle","northStyle","borderWidth","generateBorderWidth","top","left","generatePosition","borderLeftWidth","borderRightWidth","borderBottomWidth","borderBottomColor","generateNorthStyle","southStyle","bottom","borderTopWidth","borderTopColor","generateSouthStyle","westStyle","borderRightColor","generateWestStyle","eastStyle","right","borderLeftColor","generateEastStyle","onCircleClick","useCallback","event","stopPropagation","onNorthClick","useDirectionClick","onSouthClick","onWestClick","onEastClick","container","onClick","circle","directionNode","currentDirection","current","NAME","state","createSlice","name","initialState","zoom","nextTokenId","tokenIds","tokens","selectedTokenId","reducers","setDimensions","action","payload","createToken","token","moveToken","selectToken","unselectToken","toggleDirection","getColumns","getRows","getZoom","getTokenIds","actions","GridToken","props","useSelector","getTokenById","tokenId","isTokenSelected","dispatch","useDispatch","position","Field","generateCellSize","gridTokens","map","generateGridTokens","field","gridWrapper","App","Boolean","window","location","hostname","match","store","configureStore","reducer","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.1c01dff8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"field\":\"Field_field__1PltA\",\"gridWrapper\":\"Field_gridWrapper__oluTN\"};","import styles from './Grid.module.css'\n\nexport function Grid({ columns, rows, cellSize, children }) {\n    const style = generateGridStyle(columns, rows, cellSize)\n    const cells = generateCells(columns, rows, cellSize)\n\n    return (\n        <div className={styles.grid} style={style}>\n            {cells}\n            {children}\n        </div>\n    )\n}\n\nfunction generateGridStyle(columns, rows, cellSize) {\n    return {\n        width: (columns * cellSize) + 'px',\n        height: (rows * cellSize) + 'px'\n    }\n}\n\nfunction generateCells(columns, rows, cellSize) {\n    const style = generateCellStyle(cellSize)\n\n    const cells = []\n\n    for (let y = 0; y < rows; y++) {\n\n        for (let x = 0; x < columns; x++) {\n\n            const classNames = styles.cell\n                + (y === 0 ? ' ' + styles.firstRow : '')\n                + (x === columns - 1 ? ' ' + styles.lastColumn : '')\n\n            cells.push(\n                <div\n                    key={x + ';' + y}\n                    className={classNames}\n                    style={style}\n                />\n            )\n\n        }\n\n    }\n\n    return cells\n}\n\nfunction generateCellStyle(cellSize) {\n    const size = cellSize + 'px'\n    return {\n        width: size,\n        height: size,\n        lineHeight: size\n    }\n}\n","import { useCallback } from 'react'\nimport styles from './Token.module.css'\nimport chroma from 'chroma-js'\nimport classNames from 'classnames'\n\nexport const Direction = Object.freeze({\n    north: 'north',\n    south: 'south',\n    west: 'west',\n    east: 'east'\n})\n\nexport function Token({\n    id,\n    size,\n    color,\n    symbol,\n    direction,\n    onTokenClick,\n    onDirectionClick,\n    selected\n}) {\n    const colors = generateColors(color)\n\n    const containerStyle = generateContainerStyle(size)\n    const circleStyle = generateCircleStyle(colors)\n    const northStyle = generateNorthStyle(size, colors)\n    const southStyle = generateSouthStyle(size, colors)\n    const westStyle = generateWestStyle(size, colors)\n    const eastStyle = generateEastStyle(size, colors)\n\n    const onCircleClick = useCallback((event) => {\n        if (onTokenClick) {\n            event.stopPropagation()\n            onTokenClick(id)\n        }\n    }, [id, onTokenClick])\n\n    const onNorthClick = useDirectionClick(Direction.north, id, onDirectionClick)\n    const onSouthClick = useDirectionClick(Direction.south, id, onDirectionClick)\n    const onWestClick = useDirectionClick(Direction.west, id, onDirectionClick)\n    const onEastClick = useDirectionClick(Direction.east, id, onDirectionClick)\n\n    return (\n        <div\n            className={classNames(styles.container, { [styles.selected]: selected })}\n            style={containerStyle}\n        >\n            <div\n                onClick={onCircleClick}\n                className={styles.circle}\n                style={circleStyle}\n            >\n                <span>{symbol}</span>\n            </div>\n            {directionNode(Direction.north, onNorthClick, northStyle, styles.north, styles, direction)}\n            {directionNode(Direction.south, onSouthClick, southStyle, styles.south, styles, direction)}\n            {directionNode(Direction.west, onWestClick, westStyle, styles.west, styles, direction)}\n            {directionNode(Direction.east, onEastClick, eastStyle, styles.east, styles, direction)}\n        </div>\n    )\n}\n\nfunction directionNode(direction, onClick, style, className, styles, currentDirection) {\n    const current = direction === currentDirection\n    return (\n        <div\n            onClick={onClick}\n            className={classNames(className, styles.direction, { [styles.current]: current })}\n            style={style}\n        />\n    )\n}\n\nfunction generateColors(color) {\n    return {\n        backgroundColor: color,\n        borderColor: chroma(color).darken(2).saturate(2).hex()\n    }\n}\n\nfunction generateContainerStyle(size) {\n    return {\n        width: size + 'px',\n        height: size + 'px'\n    }\n}\n\nfunction generateCircleStyle(colors) {\n    return {\n        backgroundColor: colors.backgroundColor,\n        borderColor: colors.borderColor\n    }\n}\n\nfunction generateNorthStyle(size, colors) {\n    const borderWidth = generateBorderWidth(size)\n    return {\n        top: 0,\n        left: generatePosition(size),\n        borderLeftWidth: borderWidth,\n        borderRightWidth: borderWidth,\n        borderBottomWidth: borderWidth,\n        borderBottomColor: colors.borderColor\n    }\n}\n\nfunction generateSouthStyle(size, colors) {\n    const borderWidth = generateBorderWidth(size)\n    return {\n        bottom: 0,\n        left: generatePosition(size),\n        borderLeftWidth: borderWidth,\n        borderRightWidth: borderWidth,\n        borderTopWidth: borderWidth,\n        borderTopColor: colors.borderColor\n    }\n}\n\nfunction generateWestStyle(size, colors) {\n    const borderWidth = generateBorderWidth(size)\n    return {\n        top: generatePosition(size),\n        left: 0,\n        borderTopWidth: borderWidth,\n        borderBottomWidth: borderWidth,\n        borderRightWidth: borderWidth,\n        borderRightColor: colors.borderColor\n    }\n}\n\nfunction generateEastStyle(size, colors) {\n    const borderWidth = generateBorderWidth(size)\n    return {\n        top: generatePosition(size),\n        right: 0,\n        borderTopWidth: borderWidth,\n        borderBottomWidth: borderWidth,\n        borderLeftWidth: borderWidth,\n        borderLeftColor: colors.borderColor\n    }\n}\n\nfunction generateBorderWidth(size) {\n    return ((size / 10) * 3) + 'px'\n}\n\nfunction generatePosition(size) {\n    return (size / 5) + 'px'\n}\n\nfunction useDirectionClick(direction, id, onDirectionClick) {\n    return useCallback((event) => {\n        if (onDirectionClick) {\n            event.stopPropagation()\n            onDirectionClick(id, direction)\n        }\n    }, [direction, id, onDirectionClick])\n}\n","import { createSlice } from '@reduxjs/toolkit'\n\nconst NAME = 'field'\n\nexport const state = createSlice({\n    name: NAME,\n    initialState: {\n        columns: 0,\n        rows: 0,\n        zoom: 1,\n        cells: [],\n        nextTokenId: 0,\n        tokenIds: [],\n        tokens: {},\n        selectedTokenId: null\n    },\n    reducers: {\n\n        // Payload: columns, rows\n        setDimensions(state, action) {\n            const { columns, rows } = action.payload\n\n            state.columns = columns\n            state.rows = rows\n\n            for (let x = 0; x < columns; x++) {\n                state.cells[x] = []\n\n                for (let y = 0; y < rows; y++) {\n                    state.cells[x][y] = null\n                }\n            }\n        },\n\n        // Payload: color, symbol, direction, x, y\n        createToken(state, action) {\n            const token = {\n                id: state.nextTokenId++,\n                ...action.payload\n            }\n\n            state.tokenIds.push(token.id)\n            state.tokens[token.id] = token\n            state.cells[token.x][token.y] = token.id\n        },\n\n        // Payload: id, x, y\n        moveToken(state, action) {\n            const { id, x, y } = action.payload\n\n            const token = state.tokens[id]\n\n            state.cells[token.x][token.y] = null\n            state.cells[x][y] = token.id\n\n            token.x = x\n            token.y = y\n        },\n\n        // Payload: id\n        selectToken(state, action) {\n            const { id } = action.payload\n            state.selectedTokenId = id\n        },\n\n        unselectToken(state) {\n            state.selectedTokenId = null\n        },\n\n        // Payload: id, direction\n        toggleDirection(state, action) {\n            const { id, direction } = action.payload\n\n            const token = state.tokens[id]\n\n            if (token.direction !== direction) {\n                token.direction = direction\n            } else {\n                token.direction = null\n            }\n        }\n\n    }\n})\n\nexport const getColumns = (state) => state[NAME].columns\nexport const getRows = (state) => state[NAME].rows\nexport const getZoom = (state) => state[NAME].zoom\nexport const getTokenIds = (state) => state[NAME].tokenIds\nexport const getTokenById = (state, id) => state[NAME].tokens[id]\nexport const isTokenSelected = (state, tokenId) => state[NAME].selectedTokenId === tokenId\n\nexport const {\n    setDimensions,\n    createToken,\n    moveToken,\n    selectToken,\n    unselectToken,\n    toggleDirection\n} = state.actions\n","import { useCallback } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { Token } from '../token'\nimport { getTokenById, selectToken, isTokenSelected, toggleDirection } from './state'\n\nexport function GridToken(props) {\n    const { id, size } = props\n\n    const { color, symbol, direction, x, y } = useSelector((state) => getTokenById(state, id))\n    const selected = useSelector((state) => isTokenSelected(state, id))\n\n    const dispatch = useDispatch()\n\n    const onTokenClick = useCallback((id) => {\n        if (!selected) {\n            dispatch(selectToken({ id }))\n        }\n    }, [dispatch, selected])\n\n    const onDirectionClick = useCallback((id, direction) => {\n        if (selected) {\n            dispatch(toggleDirection({ id, direction }))\n        } else {\n            dispatch(selectToken({ id }))\n        }\n    }, [dispatch, selected])\n\n    const containerStyle = generateContainerStyle(x, y, size)\n    return (\n        <div style={containerStyle}>\n            <Token\n                id={id}\n                size={size}\n                color={color}\n                symbol={symbol}\n                direction={direction}\n                onTokenClick={onTokenClick}\n                onDirectionClick={onDirectionClick}\n                selected={selected}\n            />\n        </div>\n    )\n}\n\nfunction generateContainerStyle(x, y, size) {\n    const left = (x * size) + 'px'\n    const top = (y * size) + 'px'\n\n    const width = size + 'px'\n    const height = size + 'px'\n\n    return {\n        position: 'absolute',\n        left,\n        top,\n        width,\n        height\n    }\n}\n","import { useSelector, useDispatch } from 'react-redux'\nimport { Grid } from './Grid'\nimport { GridToken } from './GridToken'\nimport { getColumns, getRows, getZoom, getTokenIds, unselectToken } from './state'\nimport styles from './Field.module.css'\n\nconst BASE_CELL_SIZE = 100\n\nexport function Field() {\n    const columns = useSelector(getColumns)\n    const rows = useSelector(getRows)\n    const zoom = useSelector(getZoom)\n    const tokenIds = useSelector(getTokenIds)\n\n    const cellSize = generateCellSize(zoom)\n    const gridTokens = generateGridTokens(tokenIds, cellSize)\n\n    const dispatch = useDispatch()\n    const onUnselectToken = () => dispatch(unselectToken())\n\n    return (\n        <div className={styles.field}>\n            <div\n                className={styles.gridWrapper}\n                onClick={onUnselectToken}\n            >\n                <Grid\n                    columns={columns}\n                    rows={rows}\n                    cellSize={cellSize}\n                >\n                    {gridTokens}\n                </Grid>\n            </div>\n        </div>\n    )\n}\n\nfunction generateCellSize(zoom) {\n    return BASE_CELL_SIZE * zoom\n}\n\nfunction generateGridTokens(tokenIds, cellSize) {\n    return tokenIds.map(tokenId =>\n        <GridToken\n            key={tokenId}\n            id={tokenId}\n            size={cellSize}\n        />\n    )\n}\n","import { Field } from './field'\n\nfunction App() {\n    return (\n        <Field />\n    )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import { configureStore } from '@reduxjs/toolkit'\nimport { state as field } from './field'\n\nexport const store = configureStore({\n    reducer: {\n        [field.name]: field.reducer\n    }\n})\n","import React from 'react';\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport { Provider } from 'react-redux'\nimport * as serviceWorker from './serviceWorker'\n\nimport { store } from './store'\nimport { Direction } from './token'\nimport { setDimensions, createToken, moveToken } from './field'\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <App />\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n\nstore.dispatch(setDimensions({\n    columns: 5,\n    rows: 5\n}))\n\nstore.dispatch(createToken({\n    color: '#D5E8D4',\n    symbol: 'T',\n    direction: Direction.west,\n    x: 4,\n    y: 4\n}))\n\nstore.dispatch(createToken({\n    color: '#D5E8D4',\n    symbol: 'E',\n    direction: Direction.south,\n    x: 1,\n    y: 0\n}))\n\nstore.dispatch(createToken({\n    color: '#F8CECC',\n    symbol: 'M',\n    direction: Direction.south,\n    x: 1,\n    y: 1\n}))\n\nstore.dispatch(createToken({\n    color: '#F8CECC',\n    symbol: 'M',\n    direction: Direction.south,\n    x: 2,\n    y: 2\n}))\n\nstore.dispatch(createToken({\n    color: '#D5E8D4',\n    symbol: 'Y',\n    direction: Direction.west,\n    x: 3,\n    y: 2\n}))\n\nstore.dispatch(createToken({\n    color: '#D5E8D4',\n    symbol: 'K',\n    direction: Direction.north,\n    x: 1,\n    y: 3\n}))\n\nstore.dispatch(createToken({\n    color: '#647687',\n    symbol: '',\n    direction: null,\n    x: 4,\n    y: 0\n}))\n\nstore.dispatch(createToken({\n    color: '#647687',\n    symbol: '',\n    direction: null,\n    x: 3,\n    y: 1\n}))\n\nstore.dispatch(createToken({\n    color: '#647687',\n    symbol: '',\n    direction: null,\n    x: 0,\n    y: 2\n}))\n\nstore.dispatch(createToken({\n    color: '#647687',\n    symbol: '',\n    direction: null,\n    x: 1,\n    y: 4\n}))\n\nstore.dispatch(moveToken({\n    id: '0',\n    x: 3,\n    y: 4\n}))\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Token_container__C3-vl\",\"circle\":\"Token_circle__36Ifi\",\"direction\":\"Token_direction__2emyN\",\"selected\":\"Token_selected__1GyAX\",\"current\":\"Token_current__P_JN5\",\"north\":\"Token_north__2V4ME\",\"south\":\"Token_south__2HjCE\",\"west\":\"Token_west__2iXXe\",\"east\":\"Token_east__Eu9f2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"grid\":\"Grid_grid__5dSy0\",\"cell\":\"Grid_cell__2lFos\",\"firstRow\":\"Grid_firstRow__3GmUT\",\"lastColumn\":\"Grid_lastColumn__1e561\"};"],"sourceRoot":""}